import{j as e}from"./pdf-vendor-CqWdlgKa.js";import{r as t}from"./zustand-vendor-BohoUguQ.js";import{u as r,h as a,b as l}from"./index-2cX52YNK.js";import"./react-vendor-DRPWudcR.js";import"./supabase-vendor-DWEVVlJw.js";const n=108e5,s=[{id:"upcoming_deals",label:"Upcoming Deals",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",color:"text-green-400 bg-green-500/10 border-green-500/30"},{id:"client_tasks",label:"Client Tasks",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4",color:"text-blue-400 bg-blue-500/10 border-blue-500/30"},{id:"research",label:"Research",icon:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",color:"text-purple-400 bg-purple-500/10 border-purple-500/30"},{id:"client_comms",label:"Client Comms",icon:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",color:"text-orange-400 bg-orange-500/10 border-orange-500/30"}];function i(){const i=r(e=>e.clients)||[],c=r(e=>e.quotes)||[],d=r(e=>e.updateClient),m=r(e=>e.addClient),x=a(e=>e.opportunities)||[],p=a(e=>e.updateOpportunity),g=a(e=>e.addOpportunity),{addActivityLog:u}=l();l(e=>e.settings);const[h,b]=t.useState(()=>{const e=localStorage.getItem("tell_commercial_tasks_v2");return e?JSON.parse(e):[]}),[y,j]=t.useState(()=>{const e=localStorage.getItem("tell_manual_tasks");return e?JSON.parse(e):[]}),[C,f]=t.useState(!1),[v,k]=t.useState(null),[w,N]=t.useState(()=>{const e=localStorage.getItem("tell_commercial_tasks_time");return e?new Date(e):null}),[_,I]=t.useState(()=>{const e=localStorage.getItem("tell_completed_tasks_v2");return e?JSON.parse(e):[]}),[S,L]=t.useState(null),[M,O]=t.useState(!1),[T,$]=t.useState({title:"",description:"",category:"client_tasks",priority:"medium"}),[D,E]=t.useState("all"),[R,A]=t.useState(!1),[z,B]=t.useState(null),[H,W]=t.useState({note:"",clientId:"",opportunityId:"",createOpportunity:!1,newOppTitle:"",createClient:!1,newClientCompany:"",newClientContact:"",newClientRole:"",newClientCountry:"",newClientEmail:""}),J=t.useRef(null),P=t.useRef(!1);t.useRef(!1),t.useEffect(()=>{localStorage.setItem("tell_commercial_tasks_v2",JSON.stringify(h))},[h]),t.useEffect(()=>{localStorage.setItem("tell_manual_tasks",JSON.stringify(y))},[y]),t.useEffect(()=>{localStorage.setItem("tell_completed_tasks_v2",JSON.stringify(_))},[_]),t.useEffect(()=>{w&&localStorage.setItem("tell_commercial_tasks_time",w.toISOString())},[w]);const V=t.useCallback(async(e=!1)=>{k("API key not configured. Set VITE_ANTHROPIC_API_KEY in environment variables.")},[i,c,x]);t.useEffect(()=>{if(w){const e=new Date(new Date(w).getTime()+n);L(e)}},[w]),t.useEffect(()=>{if(P.current)return;if(0===i.length&&0===c.length&&0===x.length)return;P.current=!0;const e=localStorage.getItem("tell_commercial_tasks_v2"),t=localStorage.getItem("tell_commercial_tasks_time"),r=e&&JSON.parse(e).length>0,a=t?new Date(t):null,l=a?Date.now()-a.getTime():1/0;return(!r||l>=n)&&V(!0),J.current=setInterval(()=>{V(!0)},n),()=>{J.current&&clearInterval(J.current)}},[i.length,c.length,x.length]);const F=e=>{B(e);const t=`[${e.category.toUpperCase()}] ${e.title}\n\nOutcome: `,r=i.find(t=>t.company?.toLowerCase()===e.client?.toLowerCase()||t.id===e.clientId),a=x.find(t=>t.id===e.opportunityId||e.client&&t.client?.company?.toLowerCase()===e.client?.toLowerCase()),l=e.newClient||"research"===e.category&&!r;W({note:t,clientId:r?.id||"",opportunityId:a?.id||"",createOpportunity:!1,newOppTitle:"",createClient:l,newClientCompany:e.suggestedCompany||e.client||"",newClientContact:e.suggestedContact||e.contact||"",newClientRole:e.suggestedRole||"",newClientCountry:e.suggestedCountry||"",newClientEmail:""}),A(!0)},U=(e,t=!1)=>{t?j(t=>t.filter(t=>t.id!==e)):I(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},q=(e,t=!1)=>{t?j(t=>t.filter(t=>t.id!==e)):(b(t=>t.filter(t=>t.id!==e)),I(t=>t.filter(t=>t!==e)))},G=e=>{switch(e){case"high":return"text-red-400 bg-red-500/10 border-red-500/30";case"medium":return"text-yellow-400 bg-yellow-500/10 border-yellow-500/30";case"low":return"text-green-400 bg-green-500/10 border-green-500/30";default:return"text-gray-400 bg-gray-500/10 border-gray-500/30"}},K=H.clientId?x.filter(e=>{const t=i.find(e=>e.id===H.clientId);return t&&e.client?.company===t.company}):[],Y=[...y,...h.filter(e=>!_.includes(e.id))],Q="all"===D?Y:Y.filter(e=>e.category===D),X=s.reduce((e,t)=>(e[t.id]=Q.filter(e=>e.category===t.id),e),{}),Z=h.filter(e=>_.includes(e.id));return e.jsx("div",{className:"min-h-screen bg-dark-bg",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Commercial Tasks"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Actions from your pipeline, clients & opportunities"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[w&&e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsxs("span",{className:"text-xs text-gray-500 block",children:["Last scan: ",w.toLocaleTimeString()]}),S&&e.jsxs("span",{className:"text-[10px] text-gray-600",children:["Next: ",S.toLocaleTimeString()]})]}),e.jsxs("button",{onClick:()=>O(!0),className:"btn-ghost flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{className:"hidden sm:inline",children:"Add Task"})]}),e.jsx("button",{onClick:()=>V(!0),disabled:C,className:"btn-primary flex items-center gap-2",children:C?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"hidden sm:inline",children:"Scanning..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})})]})]}),e.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[e.jsxs("button",{onClick:()=>E("all"),className:"px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors "+("all"===D?"bg-accent-primary/20 text-accent-primary border border-accent-primary/30":"bg-gray-800 text-gray-400 hover:text-gray-200 border border-transparent"),children:["All (",Y.length,")"]}),s.map(t=>{const r=Y.filter(e=>e.category===t.id).length;return e.jsxs("button",{onClick:()=>E(t.id),className:"px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors flex items-center gap-2 "+(D===t.id?`${t.color}`:"bg-gray-800 text-gray-400 hover:text-gray-200 border border-transparent"),children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:t.icon})}),t.label," (",r,")"]},t.id)})]}),M&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add Task"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Title"}),e.jsx("input",{type:"text",value:T.title,onChange:e=>$({...T,title:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white",placeholder:"Task title..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),e.jsx("textarea",{value:T.description,onChange:e=>$({...T,description:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white h-20",placeholder:"Details..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Category"}),e.jsx("select",{value:T.category,onChange:e=>$({...T,category:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white",children:s.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Priority"}),e.jsxs("select",{value:T.priority,onChange:e=>$({...T,priority:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white",children:[e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>O(!1),className:"btn-ghost",children:"Cancel"}),e.jsx("button",{onClick:()=>{if(!T.title.trim())return;const e={...T,id:`manual_${Date.now()}`,isManual:!0,createdAt:(new Date).toISOString()};j(t=>[e,...t]),$({title:"",description:"",category:"client_tasks",priority:"medium"}),O(!1)},className:"btn-primary",children:"Add Task"})]})]})}),R&&z&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-[#1a1f2e] border border-dark-border rounded-xl p-6 w-full max-w-lg shadow-2xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Complete & Log"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:z.title}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"What happened?"}),e.jsx("textarea",{value:H.note,onChange:e=>W({...H,note:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white h-24",placeholder:"Outcome of this task..."})]}),e.jsx("div",{className:"flex items-center gap-3 p-3 bg-dark-bg rounded-lg border border-dark-border",children:e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300 cursor-pointer flex-1",children:[e.jsx("input",{type:"checkbox",checked:H.createClient,onChange:e=>W({...H,createClient:e.target.checked,clientId:""}),className:"rounded border-gray-600"}),"Create new client/contact"]})}),H.createClient?e.jsxs("div",{className:"space-y-3 p-3 bg-green-500/5 border border-green-500/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Company Name *"}),e.jsx("input",{type:"text",value:H.newClientCompany,onChange:e=>W({...H,newClientCompany:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white text-sm",placeholder:"Company name..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Contact Name"}),e.jsx("input",{type:"text",value:H.newClientContact,onChange:e=>W({...H,newClientContact:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white text-sm",placeholder:"Contact name..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Role/Title"}),e.jsx("input",{type:"text",value:H.newClientRole,onChange:e=>W({...H,newClientRole:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white text-sm",placeholder:"Job title..."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Country/Region"}),e.jsx("input",{type:"text",value:H.newClientCountry,onChange:e=>W({...H,newClientCountry:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white text-sm",placeholder:"e.g. Malaysia"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:H.newClientEmail,onChange:e=>W({...H,newClientEmail:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white text-sm",placeholder:"email@company.com"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Log to Client"}),e.jsxs("select",{value:H.clientId,onChange:e=>W({...H,clientId:e.target.value,opportunityId:""}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white",children:[e.jsx("option",{value:"",children:"Select client..."}),i.map(t=>e.jsx("option",{value:t.id,children:t.company},t.id))]})]}),H.clientId&&K.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Log to Opportunity (optional)"}),e.jsxs("select",{value:H.opportunityId,onChange:e=>W({...H,opportunityId:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white",children:[e.jsx("option",{value:"",children:"Just log to client"}),K.map(t=>e.jsx("option",{value:t.id,children:t.title},t.id))]})]})]}),(H.clientId||H.createClient)&&e.jsxs("div",{className:"border-t border-dark-border pt-4",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:H.createOpportunity,onChange:e=>W({...H,createOpportunity:e.target.checked}),className:"rounded border-gray-600"}),"Also create opportunity from this"]}),H.createOpportunity&&e.jsx("input",{type:"text",value:H.newOppTitle,onChange:e=>W({...H,newOppTitle:e.target.value}),className:"w-full mt-2 px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white",placeholder:"New opportunity title..."})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>A(!1),className:"btn-ghost",children:"Cancel"}),e.jsx("button",{onClick:async()=>{if(!z)return;const e=(new Date).toISOString(),t=(new Date).toLocaleDateString("en-GB");let r=null;if(H.createClient&&H.newClientCompany){const e={company:H.newClientCompany,contact:H.newClientContact||"",email:H.newClientEmail||"",region:H.newClientCountry||"",notes:`--- ${t} ---\nCreated from Commercial Task: ${z.title}\n\n${H.note}`,contacts:H.newClientContact?[{name:H.newClientContact,role:H.newClientRole||"",email:H.newClientEmail||""}]:[]},a=await m(e);r=a?.id}const a=r||H.clientId;if(H.opportunityId){const r=x.find(e=>e.id===H.opportunityId);if(r){const a=r.notes||"",l=`\n\n--- ${t} ---\n${H.note}`;await p(H.opportunityId,{notes:a+l,updatedAt:e})}}else if(a&&!H.createClient){const r=i.find(e=>e.id===a);if(r){const l=r.notes||"",n=`\n\n--- ${t} ---\n${H.note}`;await d(a,{notes:l+n,updatedAt:e})}}if(H.createOpportunity&&H.newOppTitle&&a){const e=H.createClient?{company:H.newClientCompany,contact:H.newClientContact,email:H.newClientEmail}:i.find(e=>e.id===a);e&&await g({title:H.newOppTitle,client:{company:e.company||H.newClientCompany,contact:e.contact||H.newClientContact,email:e.email||H.newClientEmail},status:"active",probability:25,source:"Commercial Tasks",notes:`Created from task: ${z.title}\n\n${H.note}`,region:e.region||H.newClientCountry,country:H.newClientCountry})}u&&u({action:H.createClient?"client_created":"task_completed",category:"commercial_task",description:H.createClient?`Created client: ${H.newClientCompany}`:`Completed: ${z.title}`,details:H.note,clientId:a,opportunityId:H.opportunityId}),z.isManual?j(e=>e.filter(e=>e.id!==z.id)):I(e=>[...e,z.id]),A(!1),B(null)},className:"btn-primary",disabled:!H.note.trim()||H.createClient&&!H.newClientCompany.trim(),children:H.createClient?"Create Client & Complete":"Complete & Log"})]})]})}),v&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-400 text-sm",children:v})}),!C&&0===Q.length&&!v&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-800 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"No tasks yet"}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:'Click "Refresh" to scan for tasks or add one manually'})]}),"all"===D?s.map(t=>{const r=X[t.id];return 0===r.length?null:e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${t.color}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:t.icon})})}),e.jsxs("h2",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:[t.label," (",r.length,")"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:r.map(t=>e.jsx(o,{task:t,onToggle:()=>U(t.id,t.isManual),onLog:()=>F(t),onDelete:()=>q(t.id,t.isManual),getPriorityColor:G},t.id))})]},t.id)}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:Q.map(t=>e.jsx(o,{task:t,onToggle:()=>U(t.id,t.isManual),onLog:()=>F(t),onDelete:()=>q(t.id,t.isManual),getPriorityColor:G},t.id))}),Z.length>0&&e.jsxs("div",{className:"mt-8 pt-8 border-t border-dark-border",children:[e.jsxs("h2",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-4",children:["Completed (",Z.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-2",children:Z.map(t=>e.jsx("div",{className:"bg-dark-card/50 border border-dark-border/50 rounded-lg p-3 opacity-60",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>U(t.id),className:"w-5 h-5 rounded border-2 border-green-600 bg-green-600 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-400 line-through text-sm",children:t.title})]})},t.id))})]})]})})}function o({task:t,onToggle:r,onLog:a,onDelete:l,getPriorityColor:n}){return e.jsxs("div",{className:`card bg-gradient-to-br ${(e=>{switch(e){case"upcoming_deals":return"from-green-900/20 to-green-950/10 border-green-800/30 hover:border-green-700/50";case"client_tasks":return"from-blue-900/20 to-blue-950/10 border-blue-800/30 hover:border-blue-700/50";case"research":return"from-purple-900/20 to-purple-950/10 border-purple-800/30 hover:border-purple-700/50";case"client_comms":return"from-orange-900/20 to-orange-950/10 border-orange-800/30 hover:border-orange-700/50";default:return"from-gray-900/20 to-gray-950/10 border-gray-800/30 hover:border-gray-700/50"}})(t.category)} p-4 hover:shadow-lg transition-all group relative`,children:[e.jsx("div",{className:"absolute top-3 right-3 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:l,className:"p-2 min-w-[32px] min-h-[32px] text-gray-500 hover:text-red-400 bg-dark-card/80 rounded-lg shadow-sm border border-dark-border flex items-center justify-center",title:"Delete task",children:e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}),e.jsxs("div",{className:"flex items-start gap-3 pr-8",children:[e.jsx("button",{onClick:r,className:"mt-0.5 w-5 h-5 rounded border-2 border-gray-600 hover:border-accent-primary flex items-center justify-center flex-shrink-0 transition-colors"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx("span",{className:`text-[9px] uppercase tracking-wider px-1.5 py-0.5 rounded font-medium ${n(t.priority)}`,children:t.priority}),t.isManual&&e.jsx("span",{className:"text-[9px] text-gray-500 bg-gray-800/50 px-1.5 py-0.5 rounded font-medium",children:"Manual"})]}),e.jsx("h3",{className:"font-medium text-gray-100 text-sm leading-snug mb-1",children:t.title}),t.description&&e.jsx("p",{className:"text-xs text-gray-400 mb-2 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center gap-3 text-[11px] text-gray-500",children:[t.client&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),t.client]}),t.contact&&e.jsxs("span",{className:"flex items-center gap-1 text-accent-primary/80",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),t.contact]})]}),e.jsxs("button",{onClick:a,className:"mt-3 text-[11px] text-accent-primary hover:text-accent-primary/80 flex items-center gap-1.5 transition-colors font-medium",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Complete & Log"]})]})]})]})}export{i as default};
