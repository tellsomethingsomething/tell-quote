import{j as e}from"./pdf-vendor-CqWdlgKa.js";import{u as t,g as a,C as s}from"./contactStore-CWMZuGE8.js";import{r as l}from"./zustand-vendor-BohoUguQ.js";function n({contact:s,onEdit:l,onDelete:n,onSelect:r,compact:i=!1,showClient:o=!1,clientName:c=""}){const{getFullName:d,getInitials:m}=t(),x=a(s.role),h=d(s),p=m(s);return i?e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-dark-card/50 cursor-pointer transition-colors group",onClick:()=>r?.(s),children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium ${x.color} bg-white/10`,children:p}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-200 truncate",children:h}),s.jobTitle&&e.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.jobTitle})]}),s.isPrimary&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-brand-teal/20 text-brand-teal",children:"Primary"})]}):e.jsxs("div",{className:"card hover:border-white/10 transition-colors group",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-medium ${x.color} bg-white/10 flex-shrink-0`,children:p}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"text-base font-medium text-gray-200",children:h}),s.isPrimary&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-brand-teal/20 text-brand-teal",children:"Primary"}),s.role&&e.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${x.color} bg-white/5`,children:x.label})]}),(s.jobTitle||s.department)&&e.jsxs("p",{className:"text-sm text-gray-400 mt-0.5",children:[s.jobTitle,s.jobTitle&&s.department&&" - ",s.department]}),o&&c&&e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:c}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-sm",children:[s.email&&e.jsxs("a",{href:`mailto:${s.email}`,className:"flex items-center gap-1.5 text-gray-400 hover:text-brand-teal transition-colors",onClick:e=>e.stopPropagation(),children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{className:"truncate max-w-[180px]",children:s.email})]}),s.phone&&e.jsxs("a",{href:`tel:${s.phone}`,className:"flex items-center gap-1.5 text-gray-400 hover:text-brand-teal transition-colors",onClick:e=>e.stopPropagation(),children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("span",{children:s.phone})]}),s.mobile&&s.mobile!==s.phone&&e.jsxs("a",{href:`tel:${s.mobile}`,className:"flex items-center gap-1.5 text-gray-400 hover:text-brand-teal transition-colors",onClick:e=>e.stopPropagation(),children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e.jsx("span",{children:s.mobile})]}),s.linkedinUrl&&e.jsxs("a",{href:s.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-gray-400 hover:text-blue-400 transition-colors",onClick:e=>e.stopPropagation(),children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),e.jsx("span",{children:"LinkedIn"})]})]}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:s.tags.map((t,a)=>e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-dark-border text-gray-400",children:t},a))}),s.lastContactedAt&&e.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Last contacted: ",new Date(s.lastContactedAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-start gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l&&e.jsx("button",{onClick:e=>{e.stopPropagation(),l(s)},className:"p-1.5 text-gray-500 hover:text-gray-300 hover:bg-white/5 rounded transition-colors",title:"Edit",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),n&&e.jsx("button",{onClick:e=>{e.stopPropagation(),window.confirm(`Delete ${h}?`)&&n(s.id)},className:"p-1.5 text-gray-500 hover:text-red-400 hover:bg-red-400/10 rounded transition-colors",title:"Delete",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),s.notes&&e.jsx("div",{className:"mt-3 pt-3 border-t border-dark-border",children:e.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:s.notes})})]})}function r({contact:t=null,clientId:a,onSave:n,onCancel:r,isLoading:i=!1}){const[o,c]=l.useState({firstName:"",lastName:"",email:"",phone:"",mobile:"",jobTitle:"",department:"",role:"",linkedinUrl:"",isPrimary:!1,notes:"",tags:[]}),[d,m]=l.useState("");l.useEffect(()=>{t&&c({firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||"",phone:t.phone||"",mobile:t.mobile||"",jobTitle:t.jobTitle||"",department:t.department||"",role:t.role||"",linkedinUrl:t.linkedinUrl||"",isPrimary:t.isPrimary||!1,notes:t.notes||"",tags:t.tags||[]})},[t]);const x=e=>{const{name:t,value:a,type:s,checked:l}=e.target;c(e=>({...e,[t]:"checkbox"===s?l:a}))},h=()=>{d.trim()&&!o.tags.includes(d.trim())&&(c(e=>({...e,tags:[...e.tags,d.trim()]})),m(""))};return e.jsxs("form",{onSubmit:e=>{e.preventDefault(),n({...o,clientId:a})},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:["First Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",name:"firstName",value:o.firstName,onChange:x,required:!0,className:"input w-full",placeholder:"John"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:o.lastName,onChange:x,className:"input w-full",placeholder:"Doe"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:x,className:"input w-full",placeholder:"john.doe@company.com"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:x,className:"input w-full",placeholder:"+1 234 567 890"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Mobile"}),e.jsx("input",{type:"tel",name:"mobile",value:o.mobile,onChange:x,className:"input w-full",placeholder:"+1 234 567 890"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Job Title"}),e.jsx("input",{type:"text",name:"jobTitle",value:o.jobTitle,onChange:x,className:"input w-full",placeholder:"Marketing Director"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Department"}),e.jsx("input",{type:"text",name:"department",value:o.department,onChange:x,className:"input w-full",placeholder:"Marketing"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Role in Buying Process"}),e.jsxs("select",{name:"role",value:o.role,onChange:x,className:"input w-full",children:[e.jsx("option",{value:"",children:"Select role..."}),s.map(t=>e.jsxs("option",{value:t.id,children:[t.label," - ",t.description]},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"LinkedIn URL"}),e.jsx("input",{type:"url",name:"linkedinUrl",value:o.linkedinUrl,onChange:x,className:"input w-full",placeholder:"https://linkedin.com/in/johndoe"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"isPrimary",name:"isPrimary",checked:o.isPrimary,onChange:x,className:"w-4 h-4 rounded border-dark-border bg-dark-bg text-brand-teal focus:ring-brand-teal focus:ring-offset-dark-bg"}),e.jsx("label",{htmlFor:"isPrimary",className:"text-sm text-gray-300",children:"Primary contact for this client"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:d,onChange:e=>m(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),h()),className:"input flex-1",placeholder:"Add tag..."}),e.jsx("button",{type:"button",onClick:h,className:"btn btn-secondary",children:"Add"})]}),o.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:o.tags.map((t,a)=>e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded bg-dark-border text-gray-400",children:[t,e.jsx("button",{type:"button",onClick:()=>(e=>{c(t=>({...t,tags:t.tags.filter(t=>t!==e)}))})(t),className:"hover:text-red-400",children:"Ã—"})]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Notes"}),e.jsx("textarea",{name:"notes",value:o.notes,onChange:x,rows:3,className:"input w-full resize-none",placeholder:"Additional notes about this contact..."})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-dark-border",children:[e.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:i,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i||!o.firstName.trim(),children:i?"Saving...":t?"Update Contact":"Add Contact"})]})]})}export{n as C,r as a};
