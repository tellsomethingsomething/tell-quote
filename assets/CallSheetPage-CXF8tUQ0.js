import{j as e}from"./pdf-vendor-CqWdlgKa.js";import{r as t}from"./zustand-vendor-BohoUguQ.js";import{au as r,am as s,av as a,aw as l}from"./index-qIMeUE46.js";import"./react-vendor-DRPWudcR.js";import"./supabase-vendor-DWEVVlJw.js";function o({callSheets:r,onDateClick:s,selectedDate:o,onSheetClick:n}){const[i,d]=t.useState(new Date),c=(e=>{const t=e.getFullYear(),r=e.getMonth(),s=new Date(t,r,1),a=new Date(t,r+1,0).getDate(),l=s.getDay(),o=[];for(let n=0;n<l;n++)o.push(null);for(let n=1;n<=a;n++)o.push(new Date(t,r,n));return o})(i),x=(new Date).toISOString().split("T")[0],h=i.toLocaleString("default",{month:"long",year:"numeric"});return e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-border",children:[e.jsx("button",{onClick:()=>{d(new Date(i.getFullYear(),i.getMonth()-1,1))},className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:h}),e.jsx("button",{onClick:()=>{d(new Date),s(x)},className:"px-2 py-1 text-xs text-gray-400 hover:text-white border border-dark-border rounded transition-colors",children:"Today"})]}),e.jsx("button",{onClick:()=>{d(new Date(i.getFullYear(),i.getMonth()+1,1))},className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 border-b border-dark-border",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(t=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-500",children:t},t))}),e.jsx("div",{className:"grid grid-cols-7",children:c.map((t,i)=>{if(!t)return e.jsx("div",{className:"h-28 border-r border-b border-dark-border last:border-r-0 bg-dark-bg/50"},`empty-${i}`);const d=t.toISOString().split("T")[0],c=(e=>{if(!e)return[];const t=e.toISOString().split("T")[0];return r.filter(e=>e.shootDate===t&&e.status!==a.CANCELLED)})(t),h=d===x,m=d===o,u=d<x;return e.jsxs("div",{onClick:()=>s(d),className:`h-28 border-r border-b border-dark-border last:border-r-0 p-1.5 cursor-pointer transition-colors hover:bg-white/5 ${m?"bg-accent-primary/10 ring-1 ring-accent-primary/30":""} ${u?"opacity-60":""}`,children:[e.jsxs("div",{className:"text-sm font-medium mb-1 flex items-center justify-between "+(h?"text-accent-primary":0===t.getDay()||6===t.getDay()?"text-gray-500":"text-gray-300"),children:[e.jsx("span",{className:h?"w-6 h-6 bg-accent-primary text-white rounded-full flex items-center justify-center text-xs":"",children:t.getDate()}),c.length>0&&e.jsxs("span",{className:"text-xs text-gray-500",children:[c.length," shoot",1!==c.length?"s":""]})]}),e.jsxs("div",{className:"space-y-0.5 overflow-hidden",children:[c.slice(0,2).map(t=>{const r=l[t.status];return e.jsx("div",{onClick:e=>{e.stopPropagation(),n(t.id)},className:`text-xs px-1.5 py-0.5 rounded truncate cursor-pointer hover:opacity-80 ${r.bgClass} ${r.textClass}`,title:`${t.productionTitle||t.projectName||"Untitled"} - Day ${t.dayNumber||"?"}`,children:t.productionTitle||t.projectName||"Untitled"},t.id)}),c.length>2&&e.jsxs("div",{className:"text-xs text-gray-500 px-1",children:["+",c.length-2," more"]})]})]},d)})})]})}function n({sheet:t,onClick:r,onPublish:s,onDuplicate:o}){const n=l[t.status]||l.draft,i=t.shootDate?new Date(t.shootDate):null,d=t.shootDate===(new Date).toISOString().split("T")[0],c=i&&i<new Date((new Date).setHours(0,0,0,0));return i&&new Date((new Date).setHours(0,0,0,0)),e.jsxs("div",{onClick:()=>r(t.id),className:"bg-dark-card border border-dark-border rounded-xl p-4 hover:border-gray-600 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.dayNumber&&e.jsxs("span",{className:"px-2 py-0.5 bg-gray-800 text-gray-300 rounded text-xs font-medium",children:["Day ",t.dayNumber,t.totalDays?`/${t.totalDays}`:""]}),e.jsx("h3",{className:"font-semibold text-white truncate group-hover:text-accent-primary transition-colors",children:t.productionTitle||t.projectName||"Untitled Call Sheet"})]}),t.episodeTitle&&e.jsxs("p",{className:"text-sm text-gray-400 truncate mb-2",children:[t.episodeNumber&&`Ep ${t.episodeNumber}: `,t.episodeTitle]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium shrink-0 ${n.bgClass} ${n.textClass}`,children:n.label})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:d?"text-green-400 font-medium":c?"text-gray-500":"",children:i?i.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}):"No date"}),d&&e.jsx("span",{className:"text-green-400",children:"(Today)"})]}),t.generalCallTime&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:["Call: ",t.generalCallTime]})]})]}),t.locationName&&e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-400 mb-3",children:[e.jsxs("svg",{className:"w-4 h-4 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"truncate",children:t.locationName})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsxs("span",{children:[t.crewCount||0," crew"]}),t.crewConfirmedCount>0&&e.jsxs("span",{className:"text-green-500",children:["(",t.crewConfirmedCount," confirmed)"]})]}),t.castCount>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsxs("span",{children:[t.castCount," cast"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-dark-border",children:[t.status===a.DRAFT&&e.jsx("button",{onClick:e=>{e.stopPropagation(),s(t.id)},className:"px-3 py-1.5 text-xs font-medium bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors",children:"Publish"}),e.jsx("button",{onClick:e=>{e.stopPropagation(),o(t.id)},className:"px-3 py-1.5 text-xs font-medium text-gray-400 hover:text-white transition-colors",children:"Duplicate"}),e.jsxs("span",{className:"ml-auto text-xs text-gray-600",children:["v",t.version||1]})]})]})}function i({isOpen:r,onClose:s,projects:a,onCreate:l}){const[o,n]=t.useState(!1),[i,d]=t.useState({projectId:"",productionTitle:"",shootDate:(new Date).toISOString().split("T")[0],dayNumber:1,totalDays:1,generalCallTime:"07:00",locationName:""});return t.useEffect(()=>{if(i.projectId){const e=a.find(e=>e.id===i.projectId);e&&!i.productionTitle&&d(t=>({...t,productionTitle:e.name}))}},[i.projectId,a]),r?e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-[#1a1f2e] border border-dark-border rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-dark-border",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"New Call Sheet"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create a call sheet for a shoot day"})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),i.shootDate){n(!0);try{const e=await l(i);s(e?.id)}catch(t){alert("Failed to create call sheet")}finally{n(!1)}}},className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Link to Project"}),e.jsxs("select",{value:i.projectId,onChange:e=>d({...i,projectId:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white focus:border-accent-primary focus:outline-none",children:[e.jsx("option",{value:"",children:"No project (standalone)"}),a.filter(e=>"completed"!==e.status&&"cancelled"!==e.status).map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Production Title *"}),e.jsx("input",{type:"text",value:i.productionTitle,onChange:e=>d({...i,productionTitle:e.target.value}),placeholder:"e.g., Brand Campaign 2024",className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white placeholder-gray-500 focus:border-accent-primary focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Shoot Date *"}),e.jsx("input",{type:"date",value:i.shootDate,onChange:e=>d({...i,shootDate:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white focus:border-accent-primary focus:outline-none",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Day Number"}),e.jsx("input",{type:"number",min:"1",value:i.dayNumber,onChange:e=>d({...i,dayNumber:parseInt(e.target.value)||1}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white focus:border-accent-primary focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Total Days"}),e.jsx("input",{type:"number",min:"1",value:i.totalDays,onChange:e=>d({...i,totalDays:parseInt(e.target.value)||1}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white focus:border-accent-primary focus:outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Crew Call Time"}),e.jsx("input",{type:"time",value:i.generalCallTime,onChange:e=>d({...i,generalCallTime:e.target.value}),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white focus:border-accent-primary focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location Name"}),e.jsx("input",{type:"text",value:i.locationName,onChange:e=>d({...i,locationName:e.target.value}),placeholder:"e.g., Studio A, Pinewood",className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white placeholder-gray-500 focus:border-accent-primary focus:outline-none"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>s(null),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o||!i.shootDate||!i.productionTitle,className:"px-6 py-2 bg-accent-primary text-white rounded-lg font-medium hover:bg-accent-primary/90 transition-colors disabled:opacity-50",children:o?"Creating...":"Create & Edit"})]})]})]})}):null}function d({isOpen:r,onClose:s,sheet:a,onDuplicate:l}){const[o,n]=t.useState(!1),[i,d]=t.useState(""),[c,x]=t.useState((a?.dayNumber||0)+1);t.useEffect(()=>{if(a?.shootDate){const e=new Date(a.shootDate);e.setDate(e.getDate()+1),d(e.toISOString().split("T")[0]),x((a.dayNumber||0)+1)}},[a]);return r&&a?e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-[#1a1f2e] border border-dark-border rounded-2xl w-full max-w-md",children:[e.jsxs("div",{className:"p-6 border-b border-dark-border",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Duplicate Call Sheet"}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:['Create a copy of "',a.productionTitle||a.projectName,'" for the next shoot day']})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),i){n(!0);try{await l(a.id,i,c),s()}catch(t){alert("Failed to duplicate call sheet")}finally{n(!1)}}},className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"New Shoot Date *"}),e.jsx("input",{type:"date",value:i,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white focus:border-accent-primary focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"New Day Number"}),e.jsx("input",{type:"number",min:"1",value:c,onChange:e=>x(parseInt(e.target.value)||1),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white focus:border-accent-primary focus:outline-none"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Crew and cast will be copied. Schedule items will be cleared."}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o||!i,className:"px-6 py-2 bg-accent-primary text-white rounded-lg font-medium hover:bg-accent-primary/90 transition-colors disabled:opacity-50",children:o?"Duplicating...":"Duplicate"})]})]})]})}):null}function c({onSelectCallSheet:l}){const{callSheets:c,loading:x,getStats:h,getToday:m,getUpcoming:u,createCallSheet:p,publishCallSheet:g,duplicateCallSheet:b}=r(),{projects:j}=s(),[y,f]=t.useState("calendar"),[N,v]=t.useState((new Date).toISOString().split("T")[0]),[k,w]=t.useState(!1),[C,D]=t.useState(null),[S,L]=t.useState("all"),[T,M]=t.useState(""),B=h(),I=m(),W=t.useMemo(()=>{let e=[...c];if("upcoming"===S){const t=(new Date).toISOString().split("T")[0];e=e.filter(e=>e.shootDate>=t&&e.status!==a.CANCELLED)}else if("past"===S){const t=(new Date).toISOString().split("T")[0];e=e.filter(e=>e.shootDate<t)}else"all"!==S&&(e=e.filter(e=>e.status===S));if(T.trim()){const t=T.toLowerCase();e=e.filter(e=>(e.productionTitle||"").toLowerCase().includes(t)||(e.projectName||"").toLowerCase().includes(t)||(e.locationName||"").toLowerCase().includes(t)||(e.director||"").toLowerCase().includes(t))}return e.sort((e,t)=>new Date(t.shootDate)-new Date(e.shootDate))},[c,S,T]),z=t.useMemo(()=>c.filter(e=>e.shootDate===N&&e.status!==a.CANCELLED),[c,N]),E=e=>{l(e)},P=async e=>{confirm("Publish this call sheet? Crew will be notified.")&&await g(e)};return e.jsxs("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Call Sheets"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Manage shoot schedules and crew calls"})]}),e.jsxs("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-accent-primary text-white rounded-lg font-medium hover:bg-accent-primary/90 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Call Sheet"]})]}),I.length>0&&e.jsx("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500/30 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-green-400 font-medium",children:[I.length," shoot",1!==I.length?"s":""," today"]}),e.jsx("p",{className:"text-sm text-gray-400",children:I.map(e=>e.productionTitle||e.projectName).join(", ")})]}),e.jsx("button",{onClick:()=>E(I[0].id),className:"ml-auto px-3 py-1.5 bg-green-500/20 text-green-400 rounded-lg text-sm font-medium hover:bg-green-500/30 transition-colors",children:"View"})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-4",children:[e.jsx("p",{className:"text-2xl font-bold text-green-400",children:B.today}),e.jsx("p",{className:"text-sm text-gray-400",children:"Today"})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-4",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-400",children:B.thisWeek}),e.jsx("p",{className:"text-sm text-gray-400",children:"This Week"})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-4",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-400",children:B.drafts}),e.jsx("p",{className:"text-sm text-gray-400",children:"Drafts"})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-4",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-400",children:B.upcoming}),e.jsx("p",{className:"text-sm text-gray-400",children:"Upcoming"})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-400",children:B.total}),e.jsx("p",{className:"text-sm text-gray-400",children:"Total"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex bg-dark-card border border-dark-border rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>f("calendar"),className:"px-4 py-2 flex items-center gap-2 "+("calendar"===y?"bg-accent-primary/20 text-accent-primary":"text-gray-400 hover:text-white"),children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Calendar"]}),e.jsxs("button",{onClick:()=>f("list"),className:"px-4 py-2 flex items-center gap-2 "+("list"===y?"bg-accent-primary/20 text-accent-primary":"text-gray-400 hover:text-white"),children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"List"]})]}),"list"===y&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex-1 max-w-xs",children:[e.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",value:T,onChange:e=>M(e.target.value),placeholder:"Search call sheets...",className:"w-full pl-10 pr-4 py-2 bg-dark-card border border-dark-border rounded-lg text-white placeholder-gray-500 focus:border-accent-primary focus:outline-none"})]}),e.jsxs("select",{value:S,onChange:e=>L(e.target.value),className:"px-3 py-2 bg-dark-card border border-dark-border rounded-lg text-white focus:border-accent-primary focus:outline-none",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"past",children:"Past"}),e.jsx("option",{value:a.DRAFT,children:"Drafts"}),e.jsx("option",{value:a.PUBLISHED,children:"Published"}),e.jsx("option",{value:a.COMPLETED,children:"Completed"}),e.jsx("option",{value:a.CANCELLED,children:"Cancelled"})]})]})]}),x&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-primary"})}),!x&&"calendar"===y&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(o,{callSheets:c,onDateClick:v,selectedDate:N,onSheetClick:E})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:new Date(N+"T00:00:00").toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"})}),e.jsx("button",{onClick:()=>{w(!0)},className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",title:"Add call sheet for this date",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),e.jsx("div",{className:"space-y-4",children:z.length>0?z.map(t=>e.jsx(n,{sheet:t,onClick:E,onPublish:P,onDuplicate:e=>D(c.find(t=>t.id===e))},t.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500 bg-dark-card border border-dark-border rounded-xl",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"mb-2",children:"No shoots scheduled"}),e.jsx("button",{onClick:()=>w(!0),className:"text-accent-primary hover:text-accent-primary/80 text-sm",children:"Create call sheet"})]})})]})]}),!x&&"list"===y&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.length>0?W.map(t=>e.jsx(n,{sheet:t,onClick:E,onPublish:P,onDuplicate:e=>D(c.find(t=>t.id===e))},t.id)):e.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No call sheets found"}),e.jsx("p",{className:"mb-4",children:"Create your first call sheet to get started"}),e.jsx("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-accent-primary text-white rounded-lg font-medium hover:bg-accent-primary/90 transition-colors",children:"New Call Sheet"})]})}),e.jsx(i,{isOpen:k,onClose:e=>{w(!1),e&&l(e)},projects:j,onCreate:async e=>await p(e)}),e.jsx(d,{isOpen:!!C,onClose:()=>D(null),sheet:C,onDuplicate:async(e,t,r)=>{await b(e,t,r)}})]})}export{c as default};
