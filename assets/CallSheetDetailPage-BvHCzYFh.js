import{j as e,D as t,P as r,S as a,V as l,T as s,p as o}from"./pdf-vendor-CqWdlgKa.js";import{r as n}from"./zustand-vendor-BohoUguQ.js";import{ax as i,au as d,b as c,aw as h,av as m,ao as x}from"./index-qIMeUE46.js";import"./react-vendor-DRPWudcR.js";import"./supabase-vendor-DWEVVlJw.js";const p="#FFFFFF",g="#F8FAFC",u="#1E293B",y="#1E293B",b="#475569",j="#64748B",f="#94A3B8",v="#0F8B8D",N="#FE7F2D",C="#10B981",w="#EF4444",k="#E2E8F0",T=a.create({page:{backgroundColor:p,paddingTop:0,paddingBottom:30,paddingHorizontal:0,fontFamily:"Helvetica",fontSize:9,color:y},headerBanner:{backgroundColor:u,paddingVertical:16,paddingHorizontal:30,marginBottom:0},headerTop:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},headerLeft:{flex:1},headerRight:{alignItems:"flex-end"},productionTitle:{fontSize:18,fontFamily:"Helvetica-Bold",color:p,marginBottom:4},episodeInfo:{fontSize:11,color:f,marginBottom:8},dayBadge:{backgroundColor:v,paddingHorizontal:12,paddingVertical:6,borderRadius:4,marginBottom:4},dayBadgeText:{fontSize:14,fontFamily:"Helvetica-Bold",color:p},dateText:{fontSize:11,color:f,textAlign:"right"},callTimesBanner:{backgroundColor:v,paddingVertical:10,paddingHorizontal:30,flexDirection:"row",justifyContent:"space-between"},callTimeItem:{alignItems:"center"},callTimeLabel:{fontSize:7,color:"rgba(255,255,255,0.7)",textTransform:"uppercase",letterSpacing:.5,marginBottom:2},callTimeValue:{fontSize:14,fontFamily:"Helvetica-Bold",color:p},content:{paddingHorizontal:30,paddingTop:16},twoColumn:{flexDirection:"row",gap:16,marginBottom:16},columnLeft:{flex:1},columnRight:{flex:1},section:{marginBottom:16},sectionHeader:{flexDirection:"row",alignItems:"center",marginBottom:8,paddingBottom:4,borderBottomWidth:1,borderBottomColor:k},sectionTitle:{fontSize:10,fontFamily:"Helvetica-Bold",color:y,textTransform:"uppercase",letterSpacing:.5},sectionIcon:{width:14,height:14,marginRight:6,backgroundColor:v,borderRadius:2},importantBox:{backgroundColor:N+"15",borderWidth:1,borderColor:N,borderRadius:4,padding:10,marginBottom:16},importantLabel:{fontSize:8,fontFamily:"Helvetica-Bold",color:N,textTransform:"uppercase",letterSpacing:.5,marginBottom:4},importantText:{fontSize:9,color:y,lineHeight:1.4},personnelGrid:{flexDirection:"row",flexWrap:"wrap",gap:8},personnelItem:{width:"48%",backgroundColor:g,padding:8,borderRadius:4,marginBottom:4},personnelLabel:{fontSize:7,color:j,textTransform:"uppercase",letterSpacing:.3,marginBottom:2},personnelName:{fontSize:10,fontFamily:"Helvetica-Bold",color:y},personnelContact:{fontSize:8,color:b,marginTop:2},locationBox:{backgroundColor:g,borderRadius:4,padding:12,borderLeftWidth:3,borderLeftColor:v},locationName:{fontSize:11,fontFamily:"Helvetica-Bold",color:y,marginBottom:4},locationAddress:{fontSize:9,color:b,marginBottom:6,lineHeight:1.3},locationMeta:{flexDirection:"row",flexWrap:"wrap",gap:12},locationMetaItem:{flexDirection:"row",alignItems:"center"},locationMetaLabel:{fontSize:7,color:j,marginRight:4},locationMetaValue:{fontSize:8,color:y},scheduleTable:{borderWidth:1,borderColor:k,borderRadius:4,overflow:"hidden"},scheduleRow:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:k},scheduleRowLast:{flexDirection:"row"},scheduleTime:{width:60,padding:6,backgroundColor:g,borderRightWidth:1,borderRightColor:k},scheduleTimeText:{fontSize:9,fontFamily:"Helvetica-Bold",color:v},scheduleActivity:{flex:1,padding:6},scheduleActivityText:{fontSize:9,color:y},crewDeptHeader:{backgroundColor:g,padding:6,marginTop:8,marginBottom:4,borderRadius:2,flexDirection:"row",alignItems:"center"},crewDeptDot:{width:8,height:8,borderRadius:4,marginRight:6},crewDeptName:{fontSize:9,fontFamily:"Helvetica-Bold",color:y},crewTable:{marginBottom:4},crewRow:{flexDirection:"row",paddingVertical:4,paddingHorizontal:6,borderBottomWidth:1,borderBottomColor:k},crewName:{width:"30%",fontSize:9,color:y},crewRole:{width:"25%",fontSize:8,color:b},crewCall:{width:"15%",fontSize:9,fontFamily:"Helvetica-Bold",color:v},crewPhone:{width:"20%",fontSize:8,color:j},crewConfirmed:{width:"10%",textAlign:"center"},confirmedBadge:{fontSize:7,color:C},castTable:{borderWidth:1,borderColor:k,borderRadius:4,overflow:"hidden"},castHeader:{flexDirection:"row",backgroundColor:g,paddingVertical:6,paddingHorizontal:8,borderBottomWidth:1,borderBottomColor:k},castHeaderText:{fontSize:7,fontFamily:"Helvetica-Bold",color:j,textTransform:"uppercase"},castRow:{flexDirection:"row",paddingVertical:6,paddingHorizontal:8,borderBottomWidth:1,borderBottomColor:k},castName:{width:"25%",fontSize:9,fontFamily:"Helvetica-Bold",color:y},castCharacter:{width:"20%",fontSize:8,color:b},castPickup:{width:"12%",fontSize:8,color:j},castMakeup:{width:"12%",fontSize:8,color:j},castWardrobe:{width:"12%",fontSize:8,color:j},castOnSet:{width:"12%",fontSize:9,fontFamily:"Helvetica-Bold",color:v},weatherBox:{backgroundColor:g,padding:10,borderRadius:4,flexDirection:"row",alignItems:"center"},weatherIcon:{width:32,height:32,marginRight:10},weatherInfo:{flex:1},weatherForecast:{fontSize:10,fontFamily:"Helvetica-Bold",color:y,marginBottom:2},weatherNotes:{fontSize:8,color:b},cateringGrid:{flexDirection:"row",gap:12},cateringItem:{flex:1,backgroundColor:g,padding:8,borderRadius:4},cateringLabel:{fontSize:7,color:j,textTransform:"uppercase",marginBottom:2},cateringTime:{fontSize:10,fontFamily:"Helvetica-Bold",color:y},cateringLocation:{fontSize:8,color:b,marginTop:2},safetyBox:{backgroundColor:w+"10",borderWidth:1,borderColor:w+"40",borderRadius:4,padding:10},safetyHeader:{flexDirection:"row",alignItems:"center",marginBottom:8},safetyTitle:{fontSize:9,fontFamily:"Helvetica-Bold",color:w,textTransform:"uppercase"},hospitalInfo:{marginBottom:8},hospitalName:{fontSize:10,fontFamily:"Helvetica-Bold",color:y},hospitalAddress:{fontSize:8,color:b},hospitalPhone:{fontSize:9,color:y,marginTop:2},emergencyContacts:{marginTop:8,paddingTop:8,borderTopWidth:1,borderTopColor:w+"30"},emergencyContactItem:{fontSize:8,color:y,marginBottom:2},footer:{position:"absolute",bottom:20,left:30,right:30,flexDirection:"row",justifyContent:"space-between",borderTopWidth:1,borderTopColor:k,paddingTop:8},footerLeft:{fontSize:7,color:j},footerRight:{fontSize:7,color:j},pageBreak:{marginTop:"auto"},wardrobeBox:{backgroundColor:g,padding:10,borderRadius:4},wardrobeText:{fontSize:9,color:y,lineHeight:1.4},notesBox:{backgroundColor:g,padding:10,borderRadius:4},notesText:{fontSize:9,color:y,lineHeight:1.4},transportBox:{backgroundColor:g,padding:10,borderRadius:4},transportText:{fontSize:9,color:y,lineHeight:1.4},flightTable:{borderWidth:1,borderColor:k,borderRadius:4,overflow:"hidden",marginBottom:12},flightHeader:{flexDirection:"row",backgroundColor:g,paddingVertical:6,paddingHorizontal:8,borderBottomWidth:1,borderBottomColor:k},flightHeaderText:{fontSize:7,fontFamily:"Helvetica-Bold",color:j,textTransform:"uppercase"},flightRow:{flexDirection:"row",paddingVertical:6,paddingHorizontal:8,borderBottomWidth:1,borderBottomColor:k},flightTypeBadge:{paddingHorizontal:4,paddingVertical:2,borderRadius:2,marginRight:6},flightTypeBadgeText:{fontSize:6,fontFamily:"Helvetica-Bold",textTransform:"uppercase"},transferRow:{flexDirection:"row",backgroundColor:g,padding:8,borderRadius:4,marginBottom:6},transferTime:{width:60},transferTimeText:{fontSize:10,fontFamily:"Helvetica-Bold",color:v},transferRoute:{flex:1},transferRouteText:{fontSize:9,color:y},transferDriver:{fontSize:8,color:j,marginTop:2},accommodationBox:{backgroundColor:g,padding:12,borderRadius:4,borderLeftWidth:3,borderLeftColor:v,marginBottom:8},hotelName:{fontSize:11,fontFamily:"Helvetica-Bold",color:y,marginBottom:4},hotelAddress:{fontSize:9,color:b,marginBottom:4},hotelMeta:{flexDirection:"row",gap:12},hotelMetaItem:{fontSize:8,color:j},vehicleRow:{flexDirection:"row",backgroundColor:g,padding:8,borderRadius:4,marginBottom:6},vehicleType:{width:100},vehicleTypeBadge:{backgroundColor:N+"20",paddingHorizontal:6,paddingVertical:2,borderRadius:2},vehicleTypeBadgeText:{fontSize:7,fontFamily:"Helvetica-Bold",color:N},vehicleInfo:{flex:1},vehicleName:{fontSize:9,fontFamily:"Helvetica-Bold",color:y},vehicleDriver:{fontSize:8,color:j,marginTop:2},technicalBox:{backgroundColor:g,padding:12,borderRadius:4,marginBottom:8},technicalLabel:{fontSize:8,fontFamily:"Helvetica-Bold",color:j,textTransform:"uppercase",marginBottom:4},technicalText:{fontSize:9,color:y,lineHeight:1.4},vendorRow:{flexDirection:"row",paddingVertical:6,borderBottomWidth:1,borderBottomColor:k},vendorType:{width:80},vendorTypeBadge:{backgroundColor:v+"20",paddingHorizontal:6,paddingVertical:2,borderRadius:2},vendorTypeBadgeText:{fontSize:7,fontFamily:"Helvetica-Bold",color:v},vendorInfo:{flex:1},vendorName:{fontSize:10,fontFamily:"Helvetica-Bold",color:y},vendorContact:{fontSize:8,color:b,marginTop:2},vendorPhone:{width:100,fontSize:8,color:j,textAlign:"right"},emergencyRow:{flexDirection:"row",backgroundColor:w+"08",padding:8,borderRadius:4,marginBottom:6,borderLeftWidth:3,borderLeftColor:w},emergencyType:{width:80},emergencyTypeBadge:{backgroundColor:w+"20",paddingHorizontal:6,paddingVertical:2,borderRadius:2},emergencyTypeBadgeText:{fontSize:7,fontFamily:"Helvetica-Bold",color:w},emergencyInfo:{flex:1},emergencyName:{fontSize:10,fontFamily:"Helvetica-Bold",color:y},emergencyOrg:{fontSize:8,color:b,marginTop:2},emergencyPhone:{width:100,fontSize:10,fontFamily:"Helvetica-Bold",color:w,textAlign:"right"},internationalBox:{backgroundColor:v+"10",padding:12,borderRadius:4,marginBottom:12},internationalGrid:{flexDirection:"row",flexWrap:"wrap",gap:12},internationalItem:{width:"30%"},internationalLabel:{fontSize:7,color:j,textTransform:"uppercase",marginBottom:2},internationalValue:{fontSize:9,color:y}}),S=e=>{if(!e)return"";return new Date(e+"T00:00:00").toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})},B=e=>e||"-";function L({sheet:a,crew:o=[],cast:n=[],settings:d={},flights:c=[],transfers:h=[],accommodation:m=[],vehicles:x=[],technical:p=null,vendors:g=[],emergencyContacts:u=[]}){const f=a.enabledSections||{},N=(e=>{const t={};return e.forEach(e=>{const r=e.department||"other";t[r]||(t[r]=[]),t[r].push(e)}),t})(o),k=d.companyName||d.company?.name||"Your Company",L=c.length>0||h.length>0||m.length>0,A=p&&(p.cameraPositions?.length>0||p.commsSetup||p.powerRequirements);return e.jsxs(t,{children:[e.jsxs(r,{size:"A4",style:T.page,children:[e.jsx(l,{style:T.headerBanner,children:e.jsxs(l,{style:T.headerTop,children:[e.jsxs(l,{style:T.headerLeft,children:[e.jsx(s,{style:T.productionTitle,children:a.productionTitle||a.projectName||"Call Sheet"}),a.episodeTitle&&e.jsxs(s,{style:T.episodeInfo,children:[a.episodeNumber&&`Episode ${a.episodeNumber}: `,a.episodeTitle]})]}),e.jsxs(l,{style:T.headerRight,children:[e.jsx(l,{style:T.dayBadge,children:e.jsxs(s,{style:T.dayBadgeText,children:["DAY ",a.dayNumber||1,a.totalDays?` OF ${a.totalDays}`:""]})}),e.jsx(s,{style:T.dateText,children:S(a.shootDate)})]})]})}),e.jsxs(l,{style:T.callTimesBanner,children:[e.jsxs(l,{style:T.callTimeItem,children:[e.jsx(s,{style:T.callTimeLabel,children:"Crew Call"}),e.jsx(s,{style:T.callTimeValue,children:B(a.generalCallTime)})]}),e.jsxs(l,{style:T.callTimeItem,children:[e.jsx(s,{style:T.callTimeLabel,children:"First Shot / TX"}),e.jsx(s,{style:T.callTimeValue,children:B(a.firstShotTime)})]}),e.jsxs(l,{style:T.callTimeItem,children:[e.jsx(s,{style:T.callTimeLabel,children:"Est. Wrap"}),e.jsx(s,{style:T.callTimeValue,children:B(a.estimatedWrap)})]}),a.actualWrap&&e.jsxs(l,{style:T.callTimeItem,children:[e.jsx(s,{style:T.callTimeLabel,children:"Actual Wrap"}),e.jsx(s,{style:T.callTimeValue,children:B(a.actualWrap)})]})]}),e.jsxs(l,{style:T.content,children:[a.importantNotes&&e.jsxs(l,{style:T.importantBox,children:[e.jsx(s,{style:T.importantLabel,children:"Important Notes"}),e.jsx(s,{style:T.importantText,children:a.importantNotes})]}),e.jsxs(l,{style:T.twoColumn,children:[!1!==f.personnel&&e.jsx(l,{style:T.columnLeft,children:e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Key Personnel"})}),e.jsxs(l,{style:T.personnelGrid,children:[a.director&&e.jsxs(l,{style:T.personnelItem,children:[e.jsx(s,{style:T.personnelLabel,children:"Director"}),e.jsx(s,{style:T.personnelName,children:a.director})]}),a.producer&&e.jsxs(l,{style:T.personnelItem,children:[e.jsx(s,{style:T.personnelLabel,children:"Producer"}),e.jsx(s,{style:T.personnelName,children:a.producer})]}),a.productionManager&&e.jsxs(l,{style:T.personnelItem,children:[e.jsx(s,{style:T.personnelLabel,children:"Production Manager"}),e.jsx(s,{style:T.personnelName,children:a.productionManager})]}),a.productionCompany&&e.jsxs(l,{style:T.personnelItem,children:[e.jsx(s,{style:T.personnelLabel,children:"Production Company"}),e.jsx(s,{style:T.personnelName,children:a.productionCompany})]})]})]})}),!1!==f.location&&a.locationName&&e.jsx(l,{style:T.columnRight,children:e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Location"})}),e.jsxs(l,{style:T.locationBox,children:[e.jsx(s,{style:T.locationName,children:a.locationName}),a.locationAddress&&e.jsxs(s,{style:T.locationAddress,children:[a.locationAddress,a.locationCity&&`, ${a.locationCity}`,a.locationCountry&&`, ${a.locationCountry}`]}),e.jsxs(l,{style:T.locationMeta,children:[a.locationContactName&&e.jsxs(l,{style:T.locationMetaItem,children:[e.jsx(s,{style:T.locationMetaLabel,children:"Contact:"}),e.jsxs(s,{style:T.locationMetaValue,children:[a.locationContactName,a.locationContactPhone&&` - ${a.locationContactPhone}`]})]}),a.parkingInfo&&e.jsxs(l,{style:T.locationMetaItem,children:[e.jsx(s,{style:T.locationMetaLabel,children:"Parking:"}),e.jsx(s,{style:T.locationMetaValue,children:a.parkingInfo})]})]})]})]})})]}),(f.weather&&a.weatherForecast||f.catering&&(a.breakfastTime||a.lunchTime))&&e.jsxs(l,{style:T.twoColumn,children:[f.weather&&a.weatherForecast&&e.jsx(l,{style:T.columnLeft,children:e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Weather"})}),e.jsx(l,{style:T.weatherBox,children:e.jsxs(l,{style:T.weatherInfo,children:[e.jsx(s,{style:T.weatherForecast,children:a.weatherForecast}),a.weatherNotes&&e.jsx(s,{style:T.weatherNotes,children:a.weatherNotes})]})})]})}),f.catering&&(a.breakfastTime||a.lunchTime)&&e.jsx(l,{style:T.columnRight,children:e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Catering"})}),e.jsxs(l,{style:T.cateringGrid,children:[a.breakfastTime&&e.jsxs(l,{style:T.cateringItem,children:[e.jsx(s,{style:T.cateringLabel,children:"Breakfast"}),e.jsx(s,{style:T.cateringTime,children:a.breakfastTime}),a.breakfastLocation&&e.jsx(s,{style:T.cateringLocation,children:a.breakfastLocation})]}),a.lunchTime&&e.jsxs(l,{style:T.cateringItem,children:[e.jsx(s,{style:T.cateringLabel,children:"Lunch"}),e.jsx(s,{style:T.cateringTime,children:a.lunchTime}),a.lunchLocation&&e.jsx(s,{style:T.cateringLocation,children:a.lunchLocation})]})]})]})})]}),!1!==f.schedule&&a.schedule&&a.schedule.length>0&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Schedule / Running Order"})}),e.jsx(l,{style:T.scheduleTable,children:a.schedule.map((t,r)=>e.jsxs(l,{style:r===a.schedule.length-1?T.scheduleRowLast:T.scheduleRow,children:[e.jsx(l,{style:T.scheduleTime,children:e.jsx(s,{style:T.scheduleTimeText,children:t.time})}),e.jsx(l,{style:T.scheduleActivity,children:e.jsx(s,{style:T.scheduleActivityText,children:t.activity})})]},t.id||r))})]}),f.wardrobe&&a.wardrobeNotes&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Wardrobe / Dress Code"})}),e.jsx(l,{style:T.wardrobeBox,children:e.jsx(s,{style:T.wardrobeText,children:a.wardrobeNotes})})]}),f.transport&&a.transportNotes&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Transport"})}),e.jsx(l,{style:T.transportBox,children:e.jsx(s,{style:T.transportText,children:a.transportNotes})})]})]}),e.jsxs(l,{style:T.footer,children:[e.jsxs(s,{style:T.footerLeft,children:[k," | Call Sheet v",a.version||1]}),e.jsx(s,{style:T.footerRight,children:"Page 1"})]})]}),!1!==f.crew&&o.length>0&&e.jsxs(r,{size:"A4",style:T.page,children:[e.jsx(l,{style:T.headerBanner,children:e.jsxs(l,{style:T.headerTop,children:[e.jsx(l,{style:T.headerLeft,children:e.jsxs(s,{style:T.productionTitle,children:[a.productionTitle||a.projectName||"Call Sheet"," - Crew List"]})}),e.jsx(l,{style:T.headerRight,children:e.jsx(l,{style:T.dayBadge,children:e.jsxs(s,{style:T.dayBadgeText,children:["DAY ",a.dayNumber||1]})})})]})}),e.jsx(l,{style:T.content,children:e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsxs(s,{style:T.sectionTitle,children:["Crew (",o.length," total)"]})}),i.map(t=>{const r=N[t.id];return r&&0!==r.length?e.jsxs(l,{children:[e.jsxs(l,{style:T.crewDeptHeader,children:[e.jsx(l,{style:[T.crewDeptDot,{backgroundColor:t.color}]}),e.jsxs(s,{style:T.crewDeptName,children:[t.name," (",r.length,")"]})]}),e.jsx(l,{style:T.crewTable,children:r.map((t,r)=>e.jsxs(l,{style:T.crewRow,children:[e.jsx(s,{style:T.crewName,children:t.name}),e.jsx(s,{style:T.crewRole,children:t.roleTitle}),e.jsx(s,{style:T.crewCall,children:t.callTime||"-"}),e.jsx(s,{style:T.crewPhone,children:t.phone||""}),e.jsx(l,{style:T.crewConfirmed,children:t.confirmed&&e.jsx(s,{style:T.confirmedBadge,children:"✓"})})]},t.id||r))})]},t.id):null}),N.other&&N.other.length>0&&e.jsxs(l,{children:[e.jsxs(l,{style:T.crewDeptHeader,children:[e.jsx(l,{style:[T.crewDeptDot,{backgroundColor:"#64748B"}]}),e.jsxs(s,{style:T.crewDeptName,children:["Other (",N.other.length,")"]})]}),e.jsx(l,{style:T.crewTable,children:N.other.map((t,r)=>e.jsxs(l,{style:T.crewRow,children:[e.jsx(s,{style:T.crewName,children:t.name}),e.jsx(s,{style:T.crewRole,children:t.roleTitle}),e.jsx(s,{style:T.crewCall,children:t.callTime||"-"}),e.jsx(s,{style:T.crewPhone,children:t.phone||""}),e.jsx(l,{style:T.crewConfirmed,children:t.confirmed&&e.jsx(s,{style:T.confirmedBadge,children:"✓"})})]},t.id||r))})]})]})}),e.jsxs(l,{style:T.footer,children:[e.jsxs(s,{style:T.footerLeft,children:[k," | Call Sheet v",a.version||1]}),e.jsx(s,{style:T.footerRight,children:"Page 2"})]})]}),(f.cast&&n.length>0||f.safety&&(a.hospitalName||a.safetyNotes))&&e.jsxs(r,{size:"A4",style:T.page,children:[e.jsx(l,{style:T.headerBanner,children:e.jsxs(l,{style:T.headerTop,children:[e.jsx(l,{style:T.headerLeft,children:e.jsxs(s,{style:T.productionTitle,children:[a.productionTitle||a.projectName||"Call Sheet"," - Cast & Safety"]})}),e.jsx(l,{style:T.headerRight,children:e.jsx(l,{style:T.dayBadge,children:e.jsxs(s,{style:T.dayBadgeText,children:["DAY ",a.dayNumber||1]})})})]})}),e.jsxs(l,{style:T.content,children:[f.cast&&n.length>0&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsxs(s,{style:T.sectionTitle,children:["Cast / Talent (",n.length,")"]})}),e.jsxs(l,{style:T.castTable,children:[e.jsxs(l,{style:T.castHeader,children:[e.jsx(s,{style:[T.castHeaderText,{width:"25%"}],children:"Name"}),e.jsx(s,{style:[T.castHeaderText,{width:"20%"}],children:"Character"}),e.jsx(s,{style:[T.castHeaderText,{width:"12%"}],children:"Pickup"}),e.jsx(s,{style:[T.castHeaderText,{width:"12%"}],children:"Makeup"}),e.jsx(s,{style:[T.castHeaderText,{width:"12%"}],children:"Wardrobe"}),e.jsx(s,{style:[T.castHeaderText,{width:"12%"}],children:"On Set"})]}),n.map((t,r)=>e.jsxs(l,{style:T.castRow,children:[e.jsx(s,{style:T.castName,children:t.name}),e.jsx(s,{style:T.castCharacter,children:t.characterName||"-"}),e.jsx(s,{style:T.castPickup,children:t.pickupTime||"-"}),e.jsx(s,{style:T.castMakeup,children:t.makeupCall||"-"}),e.jsx(s,{style:T.castWardrobe,children:t.wardrobeCall||"-"}),e.jsx(s,{style:T.castOnSet,children:t.onSetCall||"-"})]},t.id||r))]})]}),f.safety&&(a.hospitalName||a.safetyNotes)&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Health & Safety"})}),e.jsxs(l,{style:T.safetyBox,children:[a.hospitalName&&e.jsxs(l,{style:T.hospitalInfo,children:[e.jsx(s,{style:T.safetyTitle,children:"Nearest Hospital"}),e.jsx(s,{style:T.hospitalName,children:a.hospitalName}),a.hospitalAddress&&e.jsx(s,{style:T.hospitalAddress,children:a.hospitalAddress}),a.hospitalPhone&&e.jsxs(s,{style:T.hospitalPhone,children:["Tel: ",a.hospitalPhone]}),a.hospitalDistance&&e.jsxs(s,{style:T.hospitalAddress,children:["Distance: ",a.hospitalDistance]})]}),a.emergencyContacts&&a.emergencyContacts.length>0&&e.jsxs(l,{style:T.emergencyContacts,children:[e.jsx(s,{style:T.safetyTitle,children:"Emergency Contacts"}),(Array.isArray(a.emergencyContacts)?a.emergencyContacts:a.emergencyContacts.split("\n")).map((t,r)=>e.jsx(s,{style:T.emergencyContactItem,children:t},r))]}),a.safetyNotes&&e.jsxs(l,{style:{marginTop:8},children:[e.jsx(s,{style:T.safetyTitle,children:"Safety Notes"}),e.jsx(s,{style:T.notesText,children:a.safetyNotes})]})]})]})]}),e.jsxs(l,{style:T.footer,children:[e.jsxs(s,{style:T.footerLeft,children:[k," | Call Sheet v",a.version||1]}),e.jsx(s,{style:T.footerRight,children:"Page 3"})]})]}),L&&e.jsxs(r,{size:"A4",style:T.page,children:[e.jsx(l,{style:T.headerBanner,children:e.jsxs(l,{style:T.headerTop,children:[e.jsx(l,{style:T.headerLeft,children:e.jsxs(s,{style:T.productionTitle,children:[a.productionTitle||a.projectName||"Call Sheet"," - Travel & Logistics"]})}),e.jsx(l,{style:T.headerRight,children:e.jsx(l,{style:T.dayBadge,children:e.jsxs(s,{style:T.dayBadgeText,children:["DAY ",a.dayNumber||1]})})})]})}),e.jsxs(l,{style:T.content,children:[(a.timeZone||a.perDiemAmount||a.localCurrency)&&e.jsxs(l,{style:T.internationalBox,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"International Info"})}),e.jsxs(l,{style:T.internationalGrid,children:[a.timeZone&&e.jsxs(l,{style:T.internationalItem,children:[e.jsx(s,{style:T.internationalLabel,children:"Time Zone"}),e.jsxs(s,{style:T.internationalValue,children:[a.timeZone," ",a.timeZoneOffset&&`(${a.timeZoneOffset})`]})]}),a.localCurrency&&e.jsxs(l,{style:T.internationalItem,children:[e.jsx(s,{style:T.internationalLabel,children:"Local Currency"}),e.jsxs(s,{style:T.internationalValue,children:[a.localCurrency," ",a.exchangeRate&&`@ ${a.exchangeRate}`]})]}),a.perDiemAmount&&e.jsxs(l,{style:T.internationalItem,children:[e.jsx(s,{style:T.internationalLabel,children:"Per Diem"}),e.jsxs(s,{style:T.internationalValue,children:[a.perDiemCurrency||"USD"," ",a.perDiemAmount]})]}),a.internationalDialingCode&&e.jsxs(l,{style:T.internationalItem,children:[e.jsx(s,{style:T.internationalLabel,children:"Dialing Code"}),e.jsx(s,{style:T.internationalValue,children:a.internationalDialingCode})]})]})]}),c.length>0&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsxs(s,{style:T.sectionTitle,children:["Flights (",c.length,")"]})}),e.jsxs(l,{style:T.flightTable,children:[e.jsxs(l,{style:T.flightHeader,children:[e.jsx(s,{style:[T.flightHeaderText,{width:"8%"}],children:"Type"}),e.jsx(s,{style:[T.flightHeaderText,{width:"22%"}],children:"Name"}),e.jsx(s,{style:[T.flightHeaderText,{width:"12%"}],children:"Flight"}),e.jsx(s,{style:[T.flightHeaderText,{width:"20%"}],children:"Route"}),e.jsx(s,{style:[T.flightHeaderText,{width:"18%"}],children:"Depart"}),e.jsx(s,{style:[T.flightHeaderText,{width:"20%"}],children:"Arrive"})]}),c.map((t,r)=>e.jsxs(l,{style:T.flightRow,children:[e.jsx(l,{style:{width:"8%"},children:e.jsx(l,{style:[T.flightTypeBadge,{backgroundColor:"outbound"===t.flightType?v+"20":C+"20"}],children:e.jsx(s,{style:[T.flightTypeBadgeText,{color:"outbound"===t.flightType?v:C}],children:"outbound"===t.flightType?"OUT":"RET"})})}),e.jsx(s,{style:{width:"22%",fontSize:9,color:y},children:t.crewName}),e.jsx(s,{style:{width:"12%",fontSize:8,color:b},children:t.flightNumber}),e.jsxs(s,{style:{width:"20%",fontSize:9,color:y},children:[t.departureAirport," → ",t.arrivalAirport]}),e.jsxs(s,{style:{width:"18%",fontSize:8,color:j},children:[t.departureDate&&new Date(t.departureDate+"T00:00:00").toLocaleDateString("en-GB",{day:"numeric",month:"short"})," ",t.departureTime]}),e.jsxs(s,{style:{width:"20%",fontSize:8,color:j},children:[t.arrivalDate&&new Date(t.arrivalDate+"T00:00:00").toLocaleDateString("en-GB",{day:"numeric",month:"short"})," ",t.arrivalTime||""]})]},t.id||r))]})]}),h.length>0&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Transfers"})}),h.map((t,r)=>e.jsxs(l,{style:T.transferRow,children:[e.jsx(l,{style:T.transferTime,children:e.jsx(s,{style:T.transferTimeText,children:t.transferTime})}),e.jsxs(l,{style:T.transferRoute,children:[e.jsxs(s,{style:T.transferRouteText,children:[t.pickupLocation," → ",t.dropoffLocation]}),t.driverName&&e.jsxs(s,{style:T.transferDriver,children:["Driver: ",t.driverName," ",t.driverPhone]})]})]},t.id||r))]}),m.length>0&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Accommodation"})}),m.map((t,r)=>e.jsxs(l,{style:T.accommodationBox,children:[e.jsx(s,{style:T.hotelName,children:t.hotelName}),t.hotelAddress&&e.jsxs(s,{style:T.hotelAddress,children:[t.hotelAddress,t.hotelCity&&`, ${t.hotelCity}`]}),e.jsxs(l,{style:T.hotelMeta,children:[t.hotelPhone&&e.jsxs(s,{style:T.hotelMetaItem,children:["Tel: ",t.hotelPhone]}),t.bookingReference&&e.jsxs(s,{style:T.hotelMetaItem,children:["Ref: ",t.bookingReference]})]})]},t.id||r))]}),x.length>0&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Vehicles & Equipment"})}),x.map((t,r)=>e.jsxs(l,{style:T.vehicleRow,children:[e.jsx(l,{style:T.vehicleType,children:e.jsx(l,{style:T.vehicleTypeBadge,children:e.jsx(s,{style:T.vehicleTypeBadgeText,children:t.vehicleType})})}),e.jsxs(l,{style:T.vehicleInfo,children:[e.jsx(s,{style:T.vehicleName,children:t.vehicleName||t.vehicleType}),(t.driverName||t.company)&&e.jsxs(s,{style:T.vehicleDriver,children:[t.company," ",t.driverName&&`- ${t.driverName}`," ",t.driverPhone]})]})]},t.id||r))]})]}),e.jsxs(l,{style:T.footer,children:[e.jsxs(s,{style:T.footerLeft,children:[k," | Call Sheet v",a.version||1]}),e.jsx(s,{style:T.footerRight,children:"Page 4"})]})]}),A&&e.jsxs(r,{size:"A4",style:T.page,children:[e.jsx(l,{style:T.headerBanner,children:e.jsxs(l,{style:T.headerTop,children:[e.jsx(l,{style:T.headerLeft,children:e.jsxs(s,{style:T.productionTitle,children:[a.productionTitle||a.projectName||"Call Sheet"," - Technical Plan"]})}),e.jsx(l,{style:T.headerRight,children:e.jsx(l,{style:T.dayBadge,children:e.jsxs(s,{style:T.dayBadgeText,children:["DAY ",a.dayNumber||1]})})})]})}),e.jsxs(l,{style:T.content,children:[p?.cameraPositions?.length>0&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Camera Positions"})}),e.jsx(l,{style:T.technicalBox,children:p.cameraPositions.map((t,r)=>e.jsxs(s,{style:T.technicalText,children:[t.camera,": ",t.position," ",t.equipment&&`(${t.equipment})`]},r))})]}),(p?.commsSetup||p?.radioChannels?.length>0)&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Communications"})}),e.jsxs(l,{style:T.twoColumn,children:[p?.commsSetup&&e.jsx(l,{style:T.columnLeft,children:e.jsxs(l,{style:T.technicalBox,children:[e.jsx(s,{style:T.technicalLabel,children:"Comms Setup"}),e.jsx(s,{style:T.technicalText,children:p.commsSetup})]})}),p?.radioChannels?.length>0&&e.jsx(l,{style:T.columnRight,children:e.jsxs(l,{style:T.technicalBox,children:[e.jsx(s,{style:T.technicalLabel,children:"Radio Channels"}),p.radioChannels.map((t,r)=>e.jsx(s,{style:T.technicalText,children:t},r))]})})]})]}),(p?.powerRequirements||p?.uplinkInfo)&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Power & Connectivity"})}),e.jsxs(l,{style:T.twoColumn,children:[p?.powerRequirements&&e.jsx(l,{style:T.columnLeft,children:e.jsxs(l,{style:T.technicalBox,children:[e.jsx(s,{style:T.technicalLabel,children:"Power Requirements"}),e.jsx(s,{style:T.technicalText,children:p.powerRequirements})]})}),p?.uplinkInfo&&e.jsx(l,{style:T.columnRight,children:e.jsxs(l,{style:T.technicalBox,children:[e.jsx(s,{style:T.technicalLabel,children:"Uplink / Transmission"}),e.jsx(s,{style:T.technicalText,children:p.uplinkInfo})]})})]})]}),p?.notes&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Technical Notes"})}),e.jsx(l,{style:T.technicalBox,children:e.jsx(s,{style:T.technicalText,children:p.notes})})]})]}),e.jsxs(l,{style:T.footer,children:[e.jsxs(s,{style:T.footerLeft,children:[k," | Call Sheet v",a.version||1]}),e.jsx(s,{style:T.footerRight,children:"Page 5"})]})]}),(g.length>0||u.length>0)&&e.jsxs(r,{size:"A4",style:T.page,children:[e.jsx(l,{style:T.headerBanner,children:e.jsxs(l,{style:T.headerTop,children:[e.jsx(l,{style:T.headerLeft,children:e.jsxs(s,{style:T.productionTitle,children:[a.productionTitle||a.projectName||"Call Sheet"," - Contacts"]})}),e.jsx(l,{style:T.headerRight,children:e.jsx(l,{style:T.dayBadge,children:e.jsxs(s,{style:T.dayBadgeText,children:["DAY ",a.dayNumber||1]})})})]})}),e.jsxs(l,{style:T.content,children:[g.length>0&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:T.sectionTitle,children:"Vendors & Suppliers"})}),g.map((t,r)=>e.jsxs(l,{style:T.vendorRow,children:[e.jsx(l,{style:T.vendorType,children:e.jsx(l,{style:T.vendorTypeBadge,children:e.jsx(s,{style:T.vendorTypeBadgeText,children:t.vendorType||"Vendor"})})}),e.jsxs(l,{style:T.vendorInfo,children:[e.jsx(s,{style:T.vendorName,children:t.companyName}),t.contactName&&e.jsx(s,{style:T.vendorContact,children:t.contactName})]}),e.jsx(s,{style:T.vendorPhone,children:t.contactPhone})]},t.id||r))]}),u.length>0&&e.jsxs(l,{style:T.section,children:[e.jsx(l,{style:T.sectionHeader,children:e.jsx(s,{style:[T.sectionTitle,{color:w}],children:"Emergency Contacts"})}),u.map((t,r)=>e.jsxs(l,{style:T.emergencyRow,children:[e.jsx(l,{style:T.emergencyType,children:e.jsx(l,{style:T.emergencyTypeBadge,children:e.jsx(s,{style:T.emergencyTypeBadgeText,children:t.contactType})})}),e.jsxs(l,{style:T.emergencyInfo,children:[e.jsx(s,{style:T.emergencyName,children:t.name}),t.organization&&e.jsxs(s,{style:T.emergencyOrg,children:[t.organization," ",t.address&&`- ${t.address}`]})]}),e.jsx(s,{style:T.emergencyPhone,children:t.phone})]},t.id||r))]})]}),e.jsxs(l,{style:T.footer,children:[e.jsxs(s,{style:T.footerLeft,children:[k," | Call Sheet v",a.version||1]}),e.jsx(s,{style:T.footerRight,children:"Page 6"})]})]})]})}const A=[{id:"production",label:"Production Info",description:"Title, company, episode details",default:!0},{id:"shoot",label:"Shoot Details",description:"Date, day number, call times",default:!0},{id:"personnel",label:"Key Personnel",description:"Director, producer, PM",default:!0},{id:"crew",label:"Crew List",description:"Full crew with contacts",default:!0},{id:"cast",label:"Cast / Talent",description:"Cast list with call times",default:!1},{id:"schedule",label:"Schedule",description:"Running order / timeline",default:!0},{id:"location",label:"Location",description:"Venue, address, parking",default:!0},{id:"weather",label:"Weather",description:"Forecast and conditions",default:!1},{id:"catering",label:"Catering",description:"Meals, times, dietary",default:!1},{id:"safety",label:"Health & Safety",description:"Hospital, emergency contacts",default:!1},{id:"transport",label:"Transport",description:"Travel arrangements",default:!1},{id:"wardrobe",label:"Wardrobe",description:"Dress code, costume notes",default:!1},{id:"notes",label:"Important Notes",description:"Critical information",default:!0}],D=[{id:"overview",label:"Overview",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},{id:"crew",label:"Crew",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},{id:"cast",label:"Cast",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},{id:"schedule",label:"Schedule",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"travel",label:"Travel",icon:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"logistics",label:"Logistics",icon:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"},{id:"technical",label:"Technical",icon:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},{id:"contacts",label:"Contacts",icon:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"},{id:"location",label:"Location",icon:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},{id:"safety",label:"Safety",icon:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},{id:"notes",label:"Notes",icon:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},{id:"settings",label:"Sections",icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}],R=[{value:"minibus",label:"Minibus"},{value:"car",label:"Car"},{value:"van",label:"Van"},{value:"coach",label:"Coach"},{value:"taxi",label:"Taxi"},{value:"other",label:"Other"}],H=[{value:"hospital",label:"Hospital"},{value:"police",label:"Police"},{value:"fire",label:"Fire"},{value:"ambulance",label:"Ambulance"},{value:"security",label:"Security"},{value:"production_emergency",label:"Production Emergency"},{value:"venue_emergency",label:"Venue Emergency"},{value:"hotel_emergency",label:"Hotel Emergency"},{value:"embassy",label:"Embassy"},{value:"insurance",label:"Insurance"},{value:"local_fixer",label:"Local Fixer"},{value:"other",label:"Other"}],z=[{value:"ob",label:"OB / Outside Broadcast"},{value:"lighting",label:"Lighting"},{value:"satellite",label:"Satellite / Uplink"},{value:"catering",label:"Catering"},{value:"transport",label:"Transport"},{value:"security",label:"Security"},{value:"audio",label:"Audio"},{value:"graphics",label:"Graphics / VT"},{value:"comms",label:"Communications"},{value:"generator",label:"Generator / Power"},{value:"other",label:"Other"}];function P({label:t,value:r,onChange:a,type:l="text",placeholder:s,className:o="",...n}){return e.jsxs("div",{className:o,children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:t}),e.jsx("input",{type:l,value:r||"",onChange:e=>a(e.target.value),placeholder:s,className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white placeholder-gray-500 focus:border-accent-primary focus:outline-none",...n})]})}function M({label:t,value:r,onChange:a,rows:l=3,placeholder:s,className:o=""}){return e.jsxs("div",{className:o,children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:t}),e.jsx("textarea",{value:r||"",onChange:e=>a(e.target.value),rows:l,placeholder:s,className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white placeholder-gray-500 focus:border-accent-primary focus:outline-none resize-none"})]})}function F({label:t,value:r,onChange:a,options:l,placeholder:s,className:o=""}){return e.jsxs("div",{className:o,children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:t}),e.jsxs("select",{value:r||"",onChange:e=>a(e.target.value),className:"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white focus:border-accent-primary focus:outline-none",children:[s&&e.jsx("option",{value:"",children:s}),l.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]})]})}function I({title:t,children:r}){return e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:t}),r]})}function V({id:t,title:r,enabled:a,children:l,onToggle:s}){const[o,i]=n.useState(!0);return a?e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>i(!o),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-white/5 transition-colors",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:r}),e.jsx("svg",{className:"w-5 h-5 text-gray-400 transition-transform "+(o?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&e.jsx("div",{className:"px-6 pb-6 pt-2 border-t border-dark-border",children:l})]}):null}function W(){return A.reduce((e,t)=>(e[t.id]=t.default,e),{})}function E({enabledSections:t,onToggleSection:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Configure Call Sheet Sections"}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Choose which sections to include in this call sheet. Disabled sections won't appear in the editor or PDF export."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(a=>{const l=t[a.id]??a.default;return e.jsxs("label",{className:"flex items-start gap-3 p-4 rounded-xl cursor-pointer transition-all "+(l?"bg-accent-primary/10 border-2 border-accent-primary/30":"bg-dark-bg border-2 border-dark-border hover:border-gray-600"),children:[e.jsx("input",{type:"checkbox",checked:l,onChange:()=>r(a.id),className:"mt-1 w-4 h-4 rounded border-gray-600 bg-dark-bg text-accent-primary focus:ring-accent-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:a.label}),e.jsx("p",{className:"text-sm text-gray-400",children:a.description})]})]},a.id)})}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-dark-border",children:[e.jsx("button",{onClick:()=>{A.forEach(e=>{t[e.id]||r(e.id)})},className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Enable All"}),e.jsx("button",{onClick:()=>{A.forEach(e=>{t[e.id]&&!["production","shoot","crew"].includes(e.id)&&r(e.id)})},className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Minimal (Essentials Only)"})]})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Quick Presets"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>{const e={production:!0,shoot:!0,personnel:!0,crew:!0,schedule:!0,location:!0,notes:!0};Object.keys(e).forEach(a=>{t[a]!==e[a]&&r(a)})},className:"p-4 rounded-xl bg-dark-bg border border-dark-border hover:border-gray-600 text-left transition-colors",children:[e.jsx("p",{className:"font-medium text-white",children:"Simple Shoot"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Basic info, crew, schedule, location"})]}),e.jsxs("button",{onClick:()=>{const e={production:!0,shoot:!0,personnel:!0,crew:!0,cast:!0,schedule:!0,location:!0,weather:!0,catering:!0,wardrobe:!0,notes:!0};A.forEach(a=>{const l=!!e[a.id];t[a.id]!==l&&r(a.id)})},className:"p-4 rounded-xl bg-dark-bg border border-dark-border hover:border-gray-600 text-left transition-colors",children:[e.jsx("p",{className:"font-medium text-white",children:"Full Production"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Everything except safety/transport"})]}),e.jsxs("button",{onClick:()=>{A.forEach(e=>{t[e.id]||r(e.id)})},className:"p-4 rounded-xl bg-dark-bg border border-dark-border hover:border-gray-600 text-left transition-colors",children:[e.jsx("p",{className:"font-medium text-white",children:"Everything"}),e.jsx("p",{className:"text-sm text-gray-400",children:"All available sections"})]})]})]})]})}function O({sheet:t,onUpdate:r,enabledSections:a}){const l=a||W();return e.jsxs("div",{className:"space-y-6",children:[e.jsx(V,{id:"production",title:"Production Information",enabled:l.production,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(P,{label:"Production Title",value:t.productionTitle,onChange:e=>r({productionTitle:e}),placeholder:"e.g., Brand Campaign 2024",className:"lg:col-span-2"}),e.jsx(P,{label:"Production Company",value:t.productionCompany,onChange:e=>r({productionCompany:e}),placeholder:"e.g., Acme Productions"}),e.jsx(P,{label:"Episode Title",value:t.episodeTitle,onChange:e=>r({episodeTitle:e}),placeholder:"e.g., The Launch"}),e.jsx(P,{label:"Episode Number",value:t.episodeNumber,onChange:e=>r({episodeNumber:e}),placeholder:"e.g., 1"})]})}),e.jsx(V,{id:"shoot",title:"Shoot Details",enabled:l.shoot,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(P,{label:"Shoot Date",type:"date",value:t.shootDate,onChange:e=>r({shootDate:e})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(P,{label:"Day",type:"number",min:"1",value:t.dayNumber,onChange:e=>r({dayNumber:parseInt(e)||null})}),e.jsx(P,{label:"of Total",type:"number",min:"1",value:t.totalDays,onChange:e=>r({totalDays:parseInt(e)||null})})]}),e.jsx(P,{label:"Crew Call Time",type:"time",value:t.generalCallTime,onChange:e=>r({generalCallTime:e})}),e.jsx(P,{label:"First Shot / TX Time",type:"time",value:t.firstShotTime,onChange:e=>r({firstShotTime:e})}),e.jsx(P,{label:"Estimated Wrap",type:"time",value:t.estimatedWrap,onChange:e=>r({estimatedWrap:e})}),t.status===m.COMPLETED&&e.jsx(P,{label:"Actual Wrap",type:"time",value:t.actualWrap,onChange:e=>r({actualWrap:e})})]})}),e.jsx(V,{id:"personnel",title:"Key Personnel",enabled:l.personnel,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(P,{label:"Director",value:t.director,onChange:e=>r({director:e}),placeholder:"Director name"}),e.jsx(P,{label:"Producer",value:t.producer,onChange:e=>r({producer:e}),placeholder:"Producer name"}),e.jsx(P,{label:"Production Manager",value:t.productionManager,onChange:e=>r({productionManager:e}),placeholder:"PM name"})]})}),e.jsx(V,{id:"weather",title:"Weather Forecast",enabled:l.weather,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(P,{label:"Weather Forecast",value:t.weatherForecast,onChange:e=>r({weatherForecast:e}),placeholder:"e.g., Sunny, 22°C, Light wind"}),e.jsx(M,{label:"Weather Notes",value:t.weatherNotes,onChange:e=>r({weatherNotes:e}),rows:2,placeholder:"Any weather-related notes or precautions"})]})}),e.jsx(V,{id:"catering",title:"Catering",enabled:l.catering,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(P,{label:"Breakfast Time",type:"time",value:t.breakfastTime,onChange:e=>r({breakfastTime:e})}),e.jsx(P,{label:"Breakfast Location",value:t.breakfastLocation,onChange:e=>r({breakfastLocation:e}),placeholder:"e.g., Base Camp",className:"lg:col-span-2"}),e.jsx(P,{label:"Lunch Time",type:"time",value:t.lunchTime,onChange:e=>r({lunchTime:e})}),e.jsx(P,{label:"Lunch Location",value:t.lunchLocation,onChange:e=>r({lunchLocation:e}),placeholder:"e.g., Craft Services Tent",className:"lg:col-span-2"}),e.jsx(P,{label:"Catering Company",value:t.cateringCompany,onChange:e=>r({cateringCompany:e}),placeholder:"Catering provider"}),e.jsx(P,{label:"Catering Contact",value:t.cateringContact,onChange:e=>r({cateringContact:e}),placeholder:"Contact number"}),e.jsx(M,{label:"Dietary Notes",value:t.dietaryNotes,onChange:e=>r({dietaryNotes:e}),rows:2,placeholder:"Allergies, vegetarian options, etc."})]})}),e.jsx(V,{id:"transport",title:"Transport",enabled:l.transport,children:e.jsx(M,{label:"Transport Notes",value:t.transportNotes,onChange:e=>r({transportNotes:e}),rows:4,placeholder:"Travel arrangements, pickup times, unit moves..."})}),e.jsx(V,{id:"wardrobe",title:"Wardrobe",enabled:l.wardrobe,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(M,{label:"Wardrobe / Dress Code",value:t.wardrobeNotes,onChange:e=>r({wardrobeNotes:e}),rows:3,placeholder:"Dress code, costume notes, blacks required..."}),e.jsx(M,{label:"Hair & Makeup Notes",value:t.makeupNotes,onChange:e=>r({makeupNotes:e}),rows:3,placeholder:"H&MU requirements, natural look, etc."})]})}),e.jsx(V,{id:"notes",title:"Important Notes",enabled:l.notes,children:e.jsx(M,{label:"Important Notes (shown prominently on call sheet)",value:t.importantNotes,onChange:e=>r({importantNotes:e}),rows:5,placeholder:"Any critical information for the crew - this will be displayed prominently..."})}),!Object.values(l).some(e=>e)&&e.jsx("div",{className:"text-center py-12 text-gray-500",children:e.jsx("p",{children:"No sections enabled. Go to the Sections tab to configure which sections to include."})})]})}function U({crew:t,onAddCrew:r,onUpdateCrew:a,onRemoveCrew:l,callSheetId:s}){const[o,d]=n.useState(!1),{members:c}=x(),h=t.reduce((e,t)=>{const r=t.department||"other";return e[r]||(e[r]=[]),e[r].push(t),e},{});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Crew List"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[t.length," crew members"]})]}),e.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-accent-primary text-white rounded-lg font-medium hover:bg-accent-primary/90 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Crew"]})]}),i.map(t=>{const r=h[t.id]||[];return 0===r.length?null:e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-dark-border flex items-center gap-3",style:{backgroundColor:`${t.color}15`},children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),e.jsx("h4",{className:"font-medium text-white",children:t.name}),e.jsxs("span",{className:"text-sm text-gray-400",children:["(",r.length,")"]})]}),e.jsx("div",{className:"divide-y divide-dark-border",children:r.map(t=>e.jsxs("div",{className:"px-4 py-3 flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium text-white",children:t.name}),t.confirmed&&e.jsx("span",{className:"px-1.5 py-0.5 bg-green-500/20 text-green-400 text-xs rounded",children:"Confirmed"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:t.roleTitle})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[t.callTime&&e.jsxs("span",{className:"mr-4",children:["Call: ",t.callTime]}),t.phone&&e.jsx("span",{children:t.phone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!t.confirmed&&e.jsx("button",{onClick:()=>a(t.id,{confirmed:!0}),className:"p-1.5 text-gray-400 hover:text-green-400 transition-colors",title:"Confirm",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("button",{onClick:()=>l(t.id),className:"p-1.5 text-gray-400 hover:text-red-400 transition-colors",title:"Remove",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},t.id))})]},t.id)}),h.other?.length>0&&e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-dark-border bg-gray-800/50",children:e.jsx("h4",{className:"font-medium text-white",children:"Other"})}),e.jsx("div",{className:"divide-y divide-dark-border",children:h.other.map(t=>e.jsxs("div",{className:"px-4 py-3 flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white",children:t.name}),e.jsx("p",{className:"text-sm text-gray-400",children:t.roleTitle})]}),e.jsx("button",{onClick:()=>l(t.id),className:"p-1.5 text-gray-400 hover:text-red-400 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},t.id))})]}),0===t.length&&e.jsxs("div",{className:"text-center py-12 bg-dark-card border border-dark-border rounded-xl",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No crew added"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Add crew members to this call sheet"}),e.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-accent-primary text-white rounded-lg font-medium hover:bg-accent-primary/90 transition-colors",children:"Add Crew"})]}),o&&e.jsx($,{isOpen:o,onClose:()=>d(!1),allCrew:c,existingCrew:t,onAdd:r,callSheetId:s})]})}function $({isOpen:t,onClose:r,allCrew:a,existingCrew:l,onAdd:s,callSheetId:o}){const[d,c]=n.useState("database"),[h,m]=n.useState([]),[x,p]=n.useState({name:"",roleTitle:"",department:"",phone:"",email:"",callTime:""}),[g,u]=n.useState(!1),y=l.map(e=>e.crewId).filter(Boolean),b=a.filter(e=>!y.includes(e.id));return t?e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-[#1a1f2e] border border-dark-border rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-dark-border",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Crew Member"}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("button",{onClick:()=>c("database"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+("database"===d?"bg-accent-primary/20 text-accent-primary":"text-gray-400 hover:text-white"),children:"From Database"}),e.jsx("button",{onClick:()=>c("manual"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+("manual"===d?"bg-accent-primary/20 text-accent-primary":"text-gray-400 hover:text-white"),children:"Manual Entry"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:"database"===d?e.jsx("div",{className:"space-y-2",children:b.length>0?b.map(t=>e.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors "+(h.includes(t)?"bg-accent-primary/20 border border-accent-primary/30":"bg-dark-bg border border-dark-border hover:border-gray-600"),children:[e.jsx("input",{type:"checkbox",checked:h.includes(t),onChange:e=>{e.target.checked?m([...h,t]):m(h.filter(e=>e.id!==t.id))},className:"w-4 h-4 rounded border-gray-600 bg-dark-bg text-accent-primary focus:ring-accent-primary"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-medium text-white",children:[t.firstName," ",t.lastName]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[t.primaryRole," - ",t.department]})]}),e.jsx("span",{className:"text-sm text-gray-500",children:t.phone})]},t.id)):e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No crew members available or all have been added"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsx(P,{label:"Name *",value:x.name,onChange:e=>p({...x,name:e}),placeholder:"Full name"}),e.jsx(P,{label:"Role",value:x.roleTitle,onChange:e=>p({...x,roleTitle:e}),placeholder:"e.g., Camera Operator"}),e.jsx(F,{label:"Department",value:x.department,onChange:e=>p({...x,department:e}),options:i.map(e=>({value:e.id,label:e.name})),placeholder:"Select department"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(P,{label:"Phone",value:x.phone,onChange:e=>p({...x,phone:e}),placeholder:"Mobile number"}),e.jsx(P,{label:"Email",type:"email",value:x.email,onChange:e=>p({...x,email:e}),placeholder:"Email address"})]}),e.jsx(P,{label:"Call Time",type:"time",value:x.callTime,onChange:e=>p({...x,callTime:e})})]})}),e.jsxs("div",{className:"p-6 border-t border-dark-border flex justify-end gap-3",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:"database"===d?async()=>{if(0!==h.length){u(!0);try{for(const e of h)await s(o,{crewId:e.id,name:`${e.firstName} ${e.lastName}`.trim(),roleTitle:e.primaryRole,department:e.department,phone:e.phone,email:e.email});r()}catch(e){}finally{u(!1)}}}:async()=>{if(x.name){u(!0);try{await s(o,x),r()}catch(e){}finally{u(!1)}}},disabled:g||("database"===d?0===h.length:!x.name),className:"px-6 py-2 bg-accent-primary text-white rounded-lg font-medium hover:bg-accent-primary/90 transition-colors disabled:opacity-50",children:g?"Adding...":`Add ${"database"===d?h.length:""} Crew`})]})]})}):null}function q({cast:t,onAddCast:r,onUpdateCast:a,onRemoveCast:l,callSheetId:s}){const[o,i]=n.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Cast / Talent"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[t.length," talent"]})]}),e.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-accent-primary text-white rounded-lg font-medium hover:bg-accent-primary/90 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Talent"]})]}),t.length>0?e.jsx("div",{className:"bg-dark-card border border-dark-border rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-dark-border bg-dark-bg/50",children:[e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Name"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Character"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Pickup"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Makeup"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Wardrobe"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"On Set"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Status"}),e.jsx("th",{className:"px-4 py-3"})]})}),e.jsx("tbody",{className:"divide-y divide-dark-border",children:t.map(t=>e.jsxs("tr",{className:"hover:bg-white/5",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("p",{className:"font-medium text-white",children:t.name})}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:t.characterName||"-"}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:t.pickupTime||"-"}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:t.makeupCall||"-"}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:t.wardrobeCall||"-"}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:t.onSetCall||"-"}),e.jsx("td",{className:"px-4 py-3",children:t.confirmed?e.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full",children:"Confirmed"}):e.jsx("span",{className:"px-2 py-1 bg-amber-500/20 text-amber-400 text-xs rounded-full",children:"Pending"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{onClick:()=>l(t.id),className:"p-1.5 text-gray-400 hover:text-red-400 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},t.id))})]})}):e.jsxs("div",{className:"text-center py-12 bg-dark-card border border-dark-border rounded-xl",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No cast added"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Add cast and talent to this call sheet"}),e.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-accent-primary text-white rounded-lg font-medium hover:bg-accent-primary/90 transition-colors",children:"Add Talent"})]})]})}function G({sheet:t,onUpdate:r}){const a=t.schedule||[],[l,s]=n.useState({time:"",activity:""});return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Day Schedule / Running Order"}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("input",{type:"time",value:l.time,onChange:e=>s({...l,time:e.target.value}),className:"px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white focus:border-accent-primary focus:outline-none"}),e.jsx("input",{type:"text",value:l.activity,onChange:e=>s({...l,activity:e.target.value}),placeholder:"Activity / Event",className:"flex-1 px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white placeholder-gray-500 focus:border-accent-primary focus:outline-none"}),e.jsx("button",{onClick:()=>{if(!l.time||!l.activity)return;const e=[...a,{...l,id:Date.now()}].sort((e,t)=>e.time.localeCompare(t.time));r({schedule:e}),s({time:"",activity:""})},disabled:!l.time||!l.activity,className:"px-4 py-2 bg-accent-primary text-white rounded-lg font-medium hover:bg-accent-primary/90 transition-colors disabled:opacity-50",children:"Add"})]}),a.length>0?e.jsx("div",{className:"space-y-2",children:a.map((t,l)=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-dark-bg rounded-lg group",children:[e.jsx("span",{className:"text-lg font-mono font-semibold text-accent-primary w-16",children:t.time}),e.jsx("span",{className:"flex-1 text-white",children:t.activity}),e.jsx("button",{onClick:()=>{return e=t.id,void r({schedule:a.filter(t=>t.id!==e)});var e},className:"p-1.5 text-gray-500 opacity-0 group-hover:opacity-100 hover:text-red-400 transition-all",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t.id||l))}):e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No schedule items yet. Add times and activities above."})]})})}function Y({sheet:t,onUpdate:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Main Location"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(P,{label:"Location Name",value:t.locationName,onChange:e=>r({locationName:e}),placeholder:"e.g., Studio A, Pinewood",className:"md:col-span-2"}),e.jsx(P,{label:"Address",value:t.locationAddress,onChange:e=>r({locationAddress:e}),placeholder:"Full street address",className:"md:col-span-2"}),e.jsx(P,{label:"City",value:t.locationCity,onChange:e=>r({locationCity:e}),placeholder:"City"}),e.jsx(P,{label:"Country",value:t.locationCountry,onChange:e=>r({locationCountry:e}),placeholder:"Country"}),e.jsx(P,{label:"GPS Coordinates / What3Words",value:t.locationCoordinates,onChange:e=>r({locationCoordinates:e}),placeholder:"e.g., 51.5074,-0.1278 or ///filled.count.soap",className:"md:col-span-2"})]})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Location Contact"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(P,{label:"Contact Name",value:t.locationContactName,onChange:e=>r({locationContactName:e}),placeholder:"On-site contact"}),e.jsx(P,{label:"Contact Phone",value:t.locationContactPhone,onChange:e=>r({locationContactPhone:e}),placeholder:"Phone number"}),e.jsx(M,{label:"Location Notes",value:t.locationNotes,onChange:e=>r({locationNotes:e}),rows:3,placeholder:"Access instructions, security protocols, etc.",className:"md:col-span-2"})]})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Parking & Base Camp"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(M,{label:"Parking Information",value:t.parkingInfo,onChange:e=>r({parkingInfo:e}),rows:3,placeholder:"Where to park, permits needed, load-in access"}),e.jsx(M,{label:"Base Camp Location",value:t.baseCampLocation,onChange:e=>r({baseCampLocation:e}),rows:3,placeholder:"Unit base / facilities location"})]})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Map"}),e.jsx(P,{label:"Map URL (Google Maps, etc.)",value:t.mapUrl,onChange:e=>r({mapUrl:e}),placeholder:"https://maps.google.com/..."}),t.mapUrl&&e.jsx("div",{className:"mt-4",children:e.jsx("a",{href:t.mapUrl,target:"_blank",rel:"noopener noreferrer",className:"text-accent-primary hover:underline text-sm",children:"Open map in new tab"})})]})]})}function Z({sheet:t,onUpdate:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Nearest Hospital / Emergency Services"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(P,{label:"Hospital Name",value:t.hospitalName,onChange:e=>r({hospitalName:e}),placeholder:"Nearest A&E"}),e.jsx(P,{label:"Hospital Phone",value:t.hospitalPhone,onChange:e=>r({hospitalPhone:e}),placeholder:"Hospital contact"}),e.jsx(P,{label:"Hospital Address",value:t.hospitalAddress,onChange:e=>r({hospitalAddress:e}),placeholder:"Full address",className:"md:col-span-2"}),e.jsx(P,{label:"Distance / Travel Time",value:t.hospitalDistance,onChange:e=>r({hospitalDistance:e}),placeholder:"e.g., 5 miles / 10 mins"})]})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Emergency Contacts"}),e.jsx(M,{label:"Emergency Contacts",value:Array.isArray(t.emergencyContacts)?t.emergencyContacts.join("\n"):t.emergencyContacts,onChange:e=>r({emergencyContacts:e.split("\n").filter(Boolean)}),rows:4,placeholder:"One contact per line, e.g.:\nFirst Aider: John Smith - 07700 900000\nSecurity: Jane Doe - 07700 900001"})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Health & Safety Notes"}),e.jsx(M,{label:"Safety Notes",value:t.safetyNotes,onChange:e=>r({safetyNotes:e}),rows:6,placeholder:"Key risks, PPE required, first aider on site, fire assembly point, any H&S considerations..."})]})]})}function _({sheet:t,onUpdate:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Important Notes"}),e.jsx(M,{label:"Important Notes (shown prominently)",value:t.importantNotes,onChange:e=>r({importantNotes:e}),rows:5,placeholder:"Any critical information for the crew..."})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Department Notes"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(M,{label:"Wardrobe Notes",value:t.wardrobeNotes,onChange:e=>r({wardrobeNotes:e}),rows:3,placeholder:"Dress code, costume notes..."}),e.jsx(M,{label:"Hair & Makeup Notes",value:t.makeupNotes,onChange:e=>r({makeupNotes:e}),rows:3,placeholder:"H&MU requirements..."}),e.jsx(M,{label:"Transport Notes",value:t.transportNotes,onChange:e=>r({transportNotes:e}),rows:3,placeholder:"Transport arrangements, pickup times..."}),e.jsx(M,{label:"Equipment Notes",value:t.equipmentNotes,onChange:e=>r({equipmentNotes:e}),rows:3,placeholder:"Special equipment, kit requirements..."})]})]})]})}function J({flights:t,transfers:r,onAddFlight:a,onUpdateFlight:l,onRemoveFlight:s,onAddTransfer:o,onUpdateTransfer:i,onRemoveTransfer:d,callSheetId:c,crew:h}){const[m,x]=n.useState(!1),[p,g]=n.useState(!1),[u,y]=n.useState({crewName:"",flightType:"outbound",departureDate:"",departureTime:"",departureAirport:"",arrivalAirport:"",flightNumber:"",airline:""}),[b,j]=n.useState({transferDate:"",transferTime:"",pickupLocation:"",dropoffLocation:"",transportType:"minibus"});return t.filter(e=>"outbound"===e.flightType),t.filter(e=>"return"===e.flightType),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-dark-border flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Flights"}),e.jsx("button",{onClick:()=>x(!m),className:"px-3 py-1.5 bg-accent-primary text-white rounded-lg text-sm font-medium hover:bg-accent-primary/90",children:"+ Add Flight"})]}),m&&e.jsxs("div",{className:"px-6 py-4 bg-dark-bg/50 border-b border-dark-border",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx(P,{label:"Crew Member",value:u.crewName,onChange:e=>y({...u,crewName:e}),placeholder:"Name"}),e.jsx(F,{label:"Type",value:u.flightType,onChange:e=>y({...u,flightType:e}),options:[{value:"outbound",label:"Outbound"},{value:"return",label:"Return"},{value:"internal",label:"Internal"}]}),e.jsx(P,{label:"Date",type:"date",value:u.departureDate,onChange:e=>y({...u,departureDate:e})}),e.jsx(P,{label:"Time",type:"time",value:u.departureTime,onChange:e=>y({...u,departureTime:e})}),e.jsx(P,{label:"From Airport",value:u.departureAirport,onChange:e=>y({...u,departureAirport:e}),placeholder:"LHR"}),e.jsx(P,{label:"To Airport",value:u.arrivalAirport,onChange:e=>y({...u,arrivalAirport:e}),placeholder:"NRT"}),e.jsx(P,{label:"Flight #",value:u.flightNumber,onChange:e=>y({...u,flightNumber:e}),placeholder:"BA007"}),e.jsx(P,{label:"Airline",value:u.airline,onChange:e=>y({...u,airline:e}),placeholder:"British Airways"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-3 py-1.5 text-gray-400 hover:text-white text-sm",children:"Cancel"}),e.jsx("button",{onClick:async()=>{u.crewName&&u.departureDate&&(await a(c,u),y({crewName:"",flightType:"outbound",departureDate:"",departureTime:"",departureAirport:"",arrivalAirport:"",flightNumber:"",airline:""}),x(!1))},className:"px-4 py-1.5 bg-accent-primary text-white rounded-lg text-sm font-medium",children:"Add"})]})]}),e.jsx("div",{className:"divide-y divide-dark-border",children:0===t.length?e.jsx("p",{className:"px-6 py-8 text-center text-gray-500",children:"No flights added yet"}):t.map(t=>e.jsxs("div",{className:"px-6 py-3 flex items-center gap-4",children:[e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium "+("outbound"===t.flightType?"bg-blue-500/20 text-blue-400":"return"===t.flightType?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"),children:t.flightType}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white",children:t.crewName}),e.jsxs("p",{className:"text-sm text-gray-400",children:[t.flightNumber," ",t.airline," - ",t.departureAirport," → ",t.arrivalAirport]})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[t.departureDate&&new Date(t.departureDate).toLocaleDateString("en-GB",{day:"numeric",month:"short"}),t.departureTime&&` ${t.departureTime}`]}),e.jsx("button",{onClick:()=>s(t.id),className:"p-1.5 text-gray-400 hover:text-red-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t.id))})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-dark-border flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Transfers"}),e.jsx("button",{onClick:()=>g(!p),className:"px-3 py-1.5 bg-accent-primary text-white rounded-lg text-sm font-medium hover:bg-accent-primary/90",children:"+ Add Transfer"})]}),p&&e.jsxs("div",{className:"px-6 py-4 bg-dark-bg/50 border-b border-dark-border",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsx(P,{label:"Date",type:"date",value:b.transferDate,onChange:e=>j({...b,transferDate:e})}),e.jsx(P,{label:"Time",type:"time",value:b.transferTime,onChange:e=>j({...b,transferTime:e})}),e.jsx(F,{label:"Type",value:b.transportType,onChange:e=>j({...b,transportType:e}),options:R}),e.jsx(P,{label:"Pickup Location",value:b.pickupLocation,onChange:e=>j({...b,pickupLocation:e}),placeholder:"Hotel Lobby",className:"md:col-span-2"}),e.jsx(P,{label:"Drop-off Location",value:b.dropoffLocation,onChange:e=>j({...b,dropoffLocation:e}),placeholder:"Venue",className:"md:col-span-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-3 py-1.5 text-gray-400 hover:text-white text-sm",children:"Cancel"}),e.jsx("button",{onClick:async()=>{b.transferDate&&b.pickupLocation&&(await o(c,b),j({transferDate:"",transferTime:"",pickupLocation:"",dropoffLocation:"",transportType:"minibus"}),g(!1))},className:"px-4 py-1.5 bg-accent-primary text-white rounded-lg text-sm font-medium",children:"Add"})]})]}),e.jsx("div",{className:"divide-y divide-dark-border",children:0===r.length?e.jsx("p",{className:"px-6 py-8 text-center text-gray-500",children:"No transfers added yet"}):r.map(t=>e.jsxs("div",{className:"px-6 py-3 flex items-center gap-4",children:[e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-purple-500/20 text-purple-400",children:t.transportType}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"font-medium text-white",children:[t.pickupLocation," → ",t.dropoffLocation]}),t.driverName&&e.jsxs("p",{className:"text-sm text-gray-400",children:["Driver: ",t.driverName," ",t.driverPhone]})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[t.transferDate&&new Date(t.transferDate).toLocaleDateString("en-GB",{day:"numeric",month:"short"}),t.transferTime&&` ${t.transferTime}`]}),e.jsx("button",{onClick:()=>d(t.id),className:"p-1.5 text-gray-400 hover:text-red-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t.id))})]})]})}function K({accommodation:t,vehicles:r,roomAssignments:a,onAddAccommodation:l,onRemoveAccommodation:s,onAddVehicle:o,onRemoveVehicle:i,callSheetId:d}){const[c,h]=n.useState(!1),[m,x]=n.useState(!1),[p,g]=n.useState({hotelName:"",hotelAddress:"",hotelPhone:"",bookingReference:""}),[u,y]=n.useState({vehicleType:"OB Van",vehicleName:"",company:"",driverName:"",driverPhone:""});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-dark-border flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Accommodation"}),e.jsx("button",{onClick:()=>h(!c),className:"px-3 py-1.5 bg-accent-primary text-white rounded-lg text-sm font-medium hover:bg-accent-primary/90",children:"+ Add Hotel"})]}),c&&e.jsxs("div",{className:"px-6 py-4 bg-dark-bg/50 border-b border-dark-border",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(P,{label:"Hotel Name",value:p.hotelName,onChange:e=>g({...p,hotelName:e}),placeholder:"Hotel name",className:"col-span-2"}),e.jsx(P,{label:"Address",value:p.hotelAddress,onChange:e=>g({...p,hotelAddress:e}),placeholder:"Full address",className:"col-span-2"}),e.jsx(P,{label:"Phone",value:p.hotelPhone,onChange:e=>g({...p,hotelPhone:e}),placeholder:"+1 234 567 8900"}),e.jsx(P,{label:"Booking Ref",value:p.bookingReference,onChange:e=>g({...p,bookingReference:e}),placeholder:"ABC123"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[e.jsx("button",{onClick:()=>h(!1),className:"px-3 py-1.5 text-gray-400 hover:text-white text-sm",children:"Cancel"}),e.jsx("button",{onClick:async()=>{p.hotelName&&(await l(d,p),g({hotelName:"",hotelAddress:"",hotelPhone:"",bookingReference:""}),h(!1))},className:"px-4 py-1.5 bg-accent-primary text-white rounded-lg text-sm font-medium",children:"Add"})]})]}),e.jsx("div",{className:"divide-y divide-dark-border",children:0===t.length?e.jsx("p",{className:"px-6 py-8 text-center text-gray-500",children:"No accommodation added yet"}):t.map(t=>e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white text-lg",children:t.hotelName}),e.jsx("p",{className:"text-sm text-gray-400",children:t.hotelAddress}),e.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[t.hotelPhone&&e.jsxs("span",{className:"text-gray-400",children:["Tel: ",t.hotelPhone]}),t.bookingReference&&e.jsxs("span",{className:"text-accent-primary",children:["Ref: ",t.bookingReference]})]})]}),e.jsx("button",{onClick:()=>s(t.id),className:"p-1.5 text-gray-400 hover:text-red-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},t.id))})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-dark-border flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Vehicles & Equipment"}),e.jsx("button",{onClick:()=>x(!m),className:"px-3 py-1.5 bg-accent-primary text-white rounded-lg text-sm font-medium hover:bg-accent-primary/90",children:"+ Add Vehicle"})]}),m&&e.jsxs("div",{className:"px-6 py-4 bg-dark-bg/50 border-b border-dark-border",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsx(P,{label:"Vehicle Type",value:u.vehicleType,onChange:e=>y({...u,vehicleType:e}),placeholder:"OB Van, Equipment Truck..."}),e.jsx(P,{label:"Vehicle Name/ID",value:u.vehicleName,onChange:e=>y({...u,vehicleName:e}),placeholder:"Unit 1"}),e.jsx(P,{label:"Company",value:u.company,onChange:e=>y({...u,company:e}),placeholder:"Provider"}),e.jsx(P,{label:"Driver Name",value:u.driverName,onChange:e=>y({...u,driverName:e})}),e.jsx(P,{label:"Driver Phone",value:u.driverPhone,onChange:e=>y({...u,driverPhone:e})})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-3 py-1.5 text-gray-400 hover:text-white text-sm",children:"Cancel"}),e.jsx("button",{onClick:async()=>{u.vehicleType&&(await o(d,u),y({vehicleType:"OB Van",vehicleName:"",company:"",driverName:"",driverPhone:""}),x(!1))},className:"px-4 py-1.5 bg-accent-primary text-white rounded-lg text-sm font-medium",children:"Add"})]})]}),e.jsx("div",{className:"divide-y divide-dark-border",children:0===r.length?e.jsx("p",{className:"px-6 py-8 text-center text-gray-500",children:"No vehicles added yet"}):r.map(t=>e.jsxs("div",{className:"px-6 py-3 flex items-center gap-4",children:[e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-orange-500/20 text-orange-400",children:t.vehicleType}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white",children:t.vehicleName||t.vehicleType}),e.jsxs("p",{className:"text-sm text-gray-400",children:[t.company," ",t.driverName&&`- ${t.driverName}`]})]}),t.driverPhone&&e.jsx("span",{className:"text-sm text-gray-400",children:t.driverPhone}),e.jsx("button",{onClick:()=>i(t.id),className:"p-1.5 text-gray-400 hover:text-red-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t.id))})]})]})}function X({technical:t,onSaveTechnical:r,callSheetId:a}){const[l,s]=n.useState(t||{cameraPositions:[],radioChannels:[],commsSetup:"",powerRequirements:"",uplinkInfo:"",notes:""});return n.useEffect(()=>{t&&s(t)},[t]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Camera Positions",children:e.jsx("button",{onClick:async()=>{await r(a,l)},className:"px-3 py-1.5 bg-accent-primary text-white rounded-lg text-sm font-medium",children:"Save"})}),e.jsx(M,{label:"Camera Positions (one per line)",value:Array.isArray(l.cameraPositions)?l.cameraPositions.map(e=>`${e.camera}: ${e.position} (${e.equipment})`).join("\n"):"",onChange:e=>s({...l,cameraPositions:e.split("\n").filter(Boolean).map((e,t)=>({camera:`Camera ${t+1}`,position:e,equipment:""}))}),rows:4,placeholder:"Camera 1: CENTRE (F800 + HJ22)\nCamera 2: LEFT WING (Sony PMW-500)"})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Communications & Comms"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(M,{label:"Comms Setup",value:l.commsSetup||"",onChange:e=>s({...l,commsSetup:e}),rows:3,placeholder:"Talkback system, radio channels..."}),e.jsx(M,{label:"Radio Channels",value:Array.isArray(l.radioChannels)?l.radioChannels.join("\n"):"",onChange:e=>s({...l,radioChannels:e.split("\n").filter(Boolean)}),rows:3,placeholder:"Ch 1: Production\nCh 2: Camera\nCh 3: Sound"})]})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Power & Connectivity"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(M,{label:"Power Requirements",value:l.powerRequirements||"",onChange:e=>s({...l,powerRequirements:e}),rows:3,placeholder:"Generator specs, power distribution..."}),e.jsx(M,{label:"Uplink / Transmission",value:l.uplinkInfo||"",onChange:e=>s({...l,uplinkInfo:e}),rows:3,placeholder:"Satellite uplink, LiveU, fiber..."})]})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl p-6",children:[e.jsx(I,{title:"Technical Notes"}),e.jsx(M,{label:"Additional Technical Notes",value:l.notes||"",onChange:e=>s({...l,notes:e}),rows:5,placeholder:"Any other technical information..."})]})]})}function Q({vendors:t,emergencyContacts:r,onAddVendor:a,onRemoveVendor:l,onAddEmergencyContact:s,onRemoveEmergencyContact:o,callSheetId:i}){const[d,c]=n.useState(!1),[h,m]=n.useState(!1),[x,p]=n.useState({companyName:"",vendorType:"",contactName:"",contactPhone:"",contactEmail:""}),[g,u]=n.useState({contactType:"hospital",name:"",phone:"",address:"",organization:""});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-dark-border flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Vendors & Suppliers"}),e.jsx("button",{onClick:()=>c(!d),className:"px-3 py-1.5 bg-accent-primary text-white rounded-lg text-sm font-medium hover:bg-accent-primary/90",children:"+ Add Vendor"})]}),d&&e.jsxs("div",{className:"px-6 py-4 bg-dark-bg/50 border-b border-dark-border",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsx(P,{label:"Company Name",value:x.companyName,onChange:e=>p({...x,companyName:e}),placeholder:"Company",className:"col-span-2"}),e.jsx(F,{label:"Type",value:x.vendorType,onChange:e=>p({...x,vendorType:e}),options:z,placeholder:"Select type"}),e.jsx(P,{label:"Contact Name",value:x.contactName,onChange:e=>p({...x,contactName:e}),placeholder:"John Smith"}),e.jsx(P,{label:"Phone",value:x.contactPhone,onChange:e=>p({...x,contactPhone:e}),placeholder:"+44 7700 900000"}),e.jsx(P,{label:"Email",value:x.contactEmail,onChange:e=>p({...x,contactEmail:e}),placeholder:"john@company.com"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-3 py-1.5 text-gray-400 hover:text-white text-sm",children:"Cancel"}),e.jsx("button",{onClick:async()=>{x.companyName&&(await a(i,x),p({companyName:"",vendorType:"",contactName:"",contactPhone:"",contactEmail:""}),c(!1))},className:"px-4 py-1.5 bg-accent-primary text-white rounded-lg text-sm font-medium",children:"Add"})]})]}),e.jsx("div",{className:"divide-y divide-dark-border",children:0===t.length?e.jsx("p",{className:"px-6 py-8 text-center text-gray-500",children:"No vendors added yet"}):t.map(t=>e.jsxs("div",{className:"px-6 py-3 flex items-center gap-4",children:[e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-blue-500/20 text-blue-400",children:t.vendorType||"Vendor"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white",children:t.companyName}),e.jsxs("p",{className:"text-sm text-gray-400",children:[t.contactName," ",t.contactPhone&&`- ${t.contactPhone}`]})]}),e.jsx("button",{onClick:()=>l(t.id),className:"p-1.5 text-gray-400 hover:text-red-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t.id))})]}),e.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-dark-border flex items-center justify-between bg-red-500/5",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Emergency Contacts"}),e.jsx("button",{onClick:()=>m(!h),className:"px-3 py-1.5 bg-red-500 text-white rounded-lg text-sm font-medium hover:bg-red-600",children:"+ Add Emergency"})]}),h&&e.jsxs("div",{className:"px-6 py-4 bg-dark-bg/50 border-b border-dark-border",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsx(F,{label:"Type",value:g.contactType,onChange:e=>u({...g,contactType:e}),options:H}),e.jsx(P,{label:"Name",value:g.name,onChange:e=>u({...g,name:e}),placeholder:"Name / Title"}),e.jsx(P,{label:"Organization",value:g.organization,onChange:e=>u({...g,organization:e}),placeholder:"Organization"}),e.jsx(P,{label:"Phone",value:g.phone,onChange:e=>u({...g,phone:e}),placeholder:"+44 999"}),e.jsx(P,{label:"Address",value:g.address,onChange:e=>u({...g,address:e}),placeholder:"Address",className:"col-span-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-3 py-1.5 text-gray-400 hover:text-white text-sm",children:"Cancel"}),e.jsx("button",{onClick:async()=>{g.name&&g.phone&&(await s(i,g),u({contactType:"hospital",name:"",phone:"",address:"",organization:""}),m(!1))},className:"px-4 py-1.5 bg-red-500 text-white rounded-lg text-sm font-medium",children:"Add"})]})]}),e.jsx("div",{className:"divide-y divide-dark-border",children:0===r.length?e.jsx("p",{className:"px-6 py-8 text-center text-gray-500",children:"No emergency contacts added yet"}):r.map(t=>e.jsxs("div",{className:"px-6 py-3 flex items-center gap-4",children:[e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-red-500/20 text-red-400",children:t.contactType}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:[t.organization," ",t.address&&`- ${t.address}`]})]}),e.jsx("span",{className:"text-sm font-medium text-white",children:t.phone}),e.jsx("button",{onClick:()=>o(t.id),className:"p-1.5 text-gray-400 hover:text-red-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t.id))})]})]})}function ee({callSheetId:t,onBack:r}){const a=t,{currentCallSheet:l,currentCrew:s,currentCast:i,currentAccommodation:x,currentRoomAssignments:p,currentFlights:g,currentTransfers:u,currentVehicles:y,currentTechnical:b,currentVendors:j,currentEmergencyContacts:f,loadCallSheet:v,updateCallSheet:N,publishCallSheet:C,deleteCallSheet:w,addCrewMember:k,updateCrewMember:T,removeCrewMember:S,addCastMember:B,updateCastMember:A,removeCastMember:R,clearCurrent:H,addAccommodation:z,removeAccommodation:P,addFlight:M,updateFlight:F,removeFlight:I,addTransfer:V,updateTransfer:$,removeTransfer:ee,addVehicle:te,removeVehicle:re,saveTechnical:ae,addVendor:le,removeVendor:se,addEmergencyContact:oe,removeEmergencyContact:ne}=d(),{settings:ie}=c(),[de,ce]=n.useState("overview"),[he,me]=n.useState(!0),[xe,pe]=n.useState(!1),[ge,ue]=n.useState({}),[ye,be]=n.useState(W()),[je,fe]=n.useState(!1);n.useEffect(()=>((async()=>{me(!0),await v(a),me(!1)})(),()=>H()),[a,v,H]),n.useEffect(()=>{l?.enabledSections&&be(l.enabledSections)},[l?.enabledSections]);const ve=n.useCallback(async e=>{if(0!==Object.keys(e).length){pe(!0);try{await N(a,e),ue({})}catch(t){}finally{pe(!1)}}},[a,N]);n.useEffect(()=>{if(0===Object.keys(ge).length)return;const e=setTimeout(()=>ve(ge),1e3);return()=>clearTimeout(e)},[ge,ve]);const Ne=e=>{ue(t=>({...t,...e}))};if(he)return e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-primary"})});if(!l)return e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Call Sheet Not Found"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"This call sheet may have been deleted."}),e.jsx("button",{onClick:r,className:"px-4 py-2 bg-accent-primary text-white rounded-lg",children:"Back to Call Sheets"})]});const Ce=h[l.status]||h.draft,we={...l,...ge};return e.jsxs("div",{className:"min-h-screen bg-dark-bg",children:[e.jsx("div",{className:"sticky top-0 z-20 bg-dark-bg border-b border-dark-border",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-xl font-bold text-white truncate",children:we.productionTitle||we.projectName||"Untitled Call Sheet"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[we.dayNumber&&e.jsxs("span",{children:["Day ",we.dayNumber,we.totalDays?`/${we.totalDays}`:""]}),we.shootDate&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"-"}),e.jsx("span",{children:new Date(we.shootDate).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",year:"numeric"})})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[(xe||Object.keys(ge).length>0)&&e.jsx("span",{className:"text-sm text-gray-400",children:xe?"Saving...":"Unsaved changes"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ce.bgClass} ${Ce.textClass}`,children:Ce.label}),e.jsxs("button",{onClick:async()=>{fe(!0);try{const t={...l,...ge,enabledSections:ye},r=await o(e.jsx(L,{sheet:t,crew:s,cast:i,settings:ie})).toBlob(),a=`call-sheet-day${t.dayNumber||1}-${t.shootDate||"draft"}.pdf`,n=URL.createObjectURL(r),d=document.createElement("a");d.href=n,d.download=a,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(n)}catch(t){alert("Failed to generate PDF. Please try again.")}finally{fe(!1)}},disabled:je,className:"px-4 py-2 bg-accent-primary/20 text-accent-primary rounded-lg font-medium hover:bg-accent-primary/30 transition-colors flex items-center gap-2 disabled:opacity-50",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),je?"Generating...":"Export PDF"]}),l.status===m.DRAFT&&e.jsx("button",{onClick:async()=>{confirm("Publish this call sheet? Crew will be able to view it.")&&await C(a)},className:"px-4 py-2 bg-green-500/20 text-green-400 rounded-lg font-medium hover:bg-green-500/30 transition-colors",children:"Publish"}),e.jsx("button",{onClick:async()=>{confirm("Delete this call sheet? This cannot be undone.")&&(await w(a),r())},className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete call sheet",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),e.jsx("div",{className:"flex gap-1 mt-4 -mb-px overflow-x-auto",children:D.map(t=>e.jsxs("button",{onClick:()=>ce(t.id),className:"flex items-center gap-2 px-4 py-2.5 text-sm font-medium rounded-t-lg transition-colors whitespace-nowrap "+(de===t.id?"bg-dark-card text-white border-t border-x border-dark-border":"text-gray-400 hover:text-white"),children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:t.icon})}),t.label]},t.id))})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-6",children:["overview"===de&&e.jsx(O,{sheet:we,onUpdate:Ne,enabledSections:ye}),"crew"===de&&e.jsx(U,{crew:s,onAddCrew:k,onUpdateCrew:T,onRemoveCrew:S,callSheetId:a}),"cast"===de&&e.jsx(q,{cast:i,onAddCast:B,onUpdateCast:A,onRemoveCast:R,callSheetId:a}),"schedule"===de&&e.jsx(G,{sheet:we,onUpdate:Ne}),"location"===de&&e.jsx(Y,{sheet:we,onUpdate:Ne}),"safety"===de&&e.jsx(Z,{sheet:we,onUpdate:Ne}),"notes"===de&&e.jsx(_,{sheet:we,onUpdate:Ne}),"travel"===de&&e.jsx(J,{flights:g,transfers:u,onAddFlight:M,onUpdateFlight:F,onRemoveFlight:I,onAddTransfer:V,onUpdateTransfer:$,onRemoveTransfer:ee,callSheetId:a,crew:s}),"logistics"===de&&e.jsx(K,{accommodation:x,vehicles:y,roomAssignments:p,onAddAccommodation:z,onRemoveAccommodation:P,onAddVehicle:te,onRemoveVehicle:re,callSheetId:a}),"technical"===de&&e.jsx(X,{technical:b,onSaveTechnical:ae,callSheetId:a}),"contacts"===de&&e.jsx(Q,{vendors:j,emergencyContacts:f,onAddVendor:le,onRemoveVendor:se,onAddEmergencyContact:oe,onRemoveEmergencyContact:ne,callSheetId:a}),"settings"===de&&e.jsx(E,{enabledSections:ye,onToggleSection:e=>{const t={...ye,[e]:!ye[e]};be(t),Ne({enabledSections:t})}})]})]})}export{ee as default};
