# ==============================================
# QUOTE TOOL - Environment Configuration
# ==============================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to version control!

# ==============================================
# SUPABASE CONFIGURATION (Required for DB)
# ==============================================
# Get these from: https://supabase.com/dashboard → Project Settings → API

# Your Supabase project URL
VITE_SUPABASE_URL=https://your-project.supabase.co

# Your Supabase anon/public key (safe to expose in frontend)
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ==============================================
# AUTHENTICATION (Choose ONE method)
# ==============================================

# METHOD 1: Supabase Auth (RECOMMENDED - Secure)
# ---------------------------------------------
# No additional config needed - uses Supabase credentials above
# Create user accounts in Supabase Dashboard → Authentication → Users
# Features:
#   ✓ Email/password authentication
#   ✓ Session management with auto-refresh
#   ✓ Secure token storage
#   ✓ Password reset functionality
#   ✓ Multi-user support with RLS

# METHOD 2: Legacy Password Auth (DEPRECATED - For testing only)
# ---------------------------------------------
# SECURITY WARNING: This is less secure and should NOT be used in production!
# Only use for development/testing or migrate to Supabase Auth ASAP
# VITE_APP_PASSWORD=your-secure-password-here

# ==============================================
# SECURITY NOTES
# ==============================================
#
# 1. NEVER use VITE_APP_PASSWORD in production
#    - Passwords in environment variables are insecure
#    - Can be read by anyone with access to the deployment
#    - No session management or user tracking
#
# 2. For production, ALWAYS use Supabase Auth:
#    - Remove/comment out VITE_APP_PASSWORD
#    - Run supabase-rls-policies.sql to enable Row Level Security
#    - Create user accounts via Supabase Dashboard
#
# 3. API Keys (Anthropic, OpenAI):
#    - These are entered via Settings page in the app
#    - Stored encrypted in browser localStorage
#    - For production: implement a backend proxy (see SECURITY.md)
#
# 4. Database Security:
#    - Enable Row Level Security (RLS) policies
#    - Each user can only access their own data
#    - See supabase-rls-policies.sql for setup
#
# ==============================================
# MIGRATION GUIDE
# ==============================================
#
# If currently using VITE_APP_PASSWORD:
#
# 1. Set up Supabase Auth:
#    - Go to Supabase Dashboard → Authentication
#    - Enable Email provider
#    - Create a user account with email/password
#
# 2. Apply RLS policies:
#    - Run supabase-rls-policies.sql in SQL Editor
#    - This secures your database with user-specific access
#
# 3. Migrate existing data:
#    - Update all tables to assign data to your user_id
#    - See migration section in supabase-rls-policies.sql
#
# 4. Update environment:
#    - Remove VITE_APP_PASSWORD from .env.local
#    - Keep only VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY
#
# 5. Test:
#    - Clear browser localStorage
#    - Reload app
#    - Login with email/password
#
# For detailed instructions, see SECURITY.md
